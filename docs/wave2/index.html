<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        var scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          var element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          var hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          var newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((entries) => {
          setHeight();
        });
        resizeObserver.observe(obj.contentWindow.document.body);
      }
    </script>
    <marimo-filename hidden>Wave2.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>Wave2</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/index-D4bXoNM3.js"></script>
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/index-CrH6PPjG.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "Wave2.py",
            "mode": "read",
            "version": "0.15.0",
            "serverToken": "static",
            "config": {"ai": {"models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false}, "display": {"cell_output": "above", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": false, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": true}}, "package_management": {"manager": "pip"}, "runtime": {"auto_instantiate": true, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "medium"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo                           \nmo.md(\n    \"# Variable selection scenario - Task 2\\n\"\n\n)", "code_hash": "4a3c0e3f93b064165ebc40641a4610c2", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hbol", "name": "_"}, {"code": "mo.vstack(\n    [\n        # 1) subtitle\n        mo.md(\"## The story so far\"),\n\n        # 2) \u201cNote to the team\u201d\n        mo.md(\n            \"The university is a large research institution that competes for students in a crowded \" \\\n            \"higher-education market. Over the past five years the first-to-second-year retention rate has \" \\\n            \"drifted downward, and graduation timelines have lengthened. Senior leadership has asked the Office of \" \\\n            \"the Provost to treat student persistence as a strategic priority rather than a routine metric. \" \\\n            \"An internal mandate now calls for data-informed, proactive outreach so that support staff can offer \" \\\n            \"help long before a student considers leaving. Within the Office of the Provost a small Student Success Analytics \" \\\n            \"group has been established. This team combines institutional researchers, academic advisors, compliance officers, \"\n            \"and data engineers. Its first assignment is to create an early warning intelligence tool that flags continuing \" \\\n            \"undergraduates who appear at risk of stopping out or falling behind schedule. Advisors will then contact those \" \\\n            \"students and connect them with tutoring, financial counseling, or mentoring. The analytics group is expected to \" \\\n            \"respect privacy regulations such as FERPA and recent federal guidance that limits the use of individual financial-aid \" \\\n            \"records in automated decision systems. It is also expected to uphold the university commitment to equity and transparency in \" \\\n            \"every technical choice.\"\n        ),\n\n\n        mo.md(\"&nbsp;\"),\n\n        mo.md(\"## Role\"),\n\n        # 2) \u201cNote to the team\u201d\n        mo.md(\n            \"You serve as the team\u2019s data science specialist. Your immediate task is not to build a model but to decide which \" \\\n            \"pieces of information should be fed into one. Working with colleagues you have assembled a data dictionary drawn \" \\\n            \"from the university warehouse. The dictionary lists common attributes such as high school grade point averages, \" \\\n            \"standardized test scores, race, gender, residency status, and course loads. It also contains financial indicators \" \\\n            \"like Pell eligibility and Expected Family Contribution. Several context-specific items are included as well.\"\\\n            \"Examples are whether a student applied to a regional campus after a main-campus denial, whether a student is a varsity athlete,\"\\\n            \"and the distance between the student\u2019s home address and campus. No raw records are available at this stage of the project;\"\\\n            \"only the variable descriptions, their known limitations, and any red-flag notes provided by legal or ethical reviewers.\"\n        ),\n\n\n        mo.md(\"&nbsp;\"),\n\n\n        mo.md(\"## Business Objective & Product\"),\n\n        # 2) \u201cNote to the team\u201d\n        mo.md(\n            \"Academic advisors need a concise, defensible list of candidate predictors that can drive a predictive model without violating \" \\\n            \"regulations or undermining equitable treatment. Your deliverable for this scenario is a Variable Selection Brief. \" \\\n            \"In one page you will designate each variable as included, excluded, or flagged for additional discussion. \" \\\n            \"For every decision you will provide a short rationale that links back to the goals of privacy protection, fairness, and practical usefulness. \" \\\n            \"Advisors and compliance staff will review and sign this brief before any modelling work proceeds.\"\n        ),\n\n\n        mo.md(\"&nbsp;\"),\n        ]\n)", "code_hash": "051c1840f00955ddaaded3ace4f61e37", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "MJUe", "name": "task_1"}, {"code": "get_init_refl_text, set_init_refl_text = mo.state(\"\")\n\nmo.vstack([\n    mo.md(\"## Lecture material\"),\n    mo.md(\n\"When thinking about whether protected attributes belong in a predictive model, it is important to resist the temptation to see them as just another column in a dataset. \"\n\"Attributes such as race, gender, or age carry a long history of discrimination and unequal treatment. Even if they appear to improve predictive accuracy, using them uncritically risks reinforcing the very inequities that educational interventions are supposed to address. \"\n\"The fact that a variable is predictive does not make it acceptable to use, and prediction alone cannot justify decisions that may harm vulnerable groups.\\n\\n\"\n\"At the same time, excluding protected attributes entirely can also be problematic. If these attributes are removed from the dataset, we lose the ability to check whether a model is producing biased or unequal outcomes across groups. \"\n\"Keeping a variable for auditing rather than prediction can therefore be a responsible compromise, as it allows practitioners to evaluate fairness without allowing the model to directly act on sensitive categories. \"\n\"The decision is not just technical but also institutional: how would students or the public interpret the fact that personal identity traits were factored into a model? Would it build trust, or would it suggest that the institution is scoring people based on who they are rather than what they do?\\n\\n\"\n\"There is no simple formula for these choices, which is why they require careful reflection. Including a protected attribute might seem to improve the model in the short run, but in the longer term it could legitimize stereotypes or misallocate resources in ways that deepen inequality. \"\n\"Excluding it without reflection, on the other hand, can make disparities invisible and prevent meaningful oversight. The critical stance is to recognize that data science is never value-neutral: every decision about what to measure and how to use it reflects judgments about fairness, responsibility, and accountability. \"\n\"As you evaluate these variables, you should consider not only what they predict but what it means to use them in practice, and whether that choice aligns with the broader goals of equity and trust in data-driven decision making.\"),\n    mo.md(\"&nbsp;\"),\n\n    mo.md(\"## Learner Reflection\"),\n    mo.Html(\"<div style='width:100%;'>\"),\n    mo.ui.text_area(\nlabel=\"Considering what you just read, please write a short paragraph on \" \\\n      \"how you think a person in your hypothetical position should guide their \" \\\n      \"actions during this process. There is no right or wrong answer; this is a place \" \\\n      \"for you to lay out your expectations before interacting with the task at hand\",\n        value=get_init_refl_text(),\n        on_change=lambda v: set_init_refl_text(v),\n        rows=12,\n    ),\n    mo.Html(\"</div>\"),\n\n    mo.md(\"&nbsp;\"),\n])", "code_hash": "f4526bf7a41065bd392e1c952c66c889", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vblA", "name": "task_f"}, {"code": "mo.Html('<div id=\"task_2\"></div>')", "code_hash": "1ddd71919cd6750f18573423b547337b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bkHC", "name": "anchor_task_2"}, {"code": "mo.vstack([\n    mo.md(\"## Task 2 \u2013 Protected-Attribute Gate: Fairness and Equity Check\"),\n    mo.md(\n        \"**Note to the learner**  \\n\"\n        \"This wave challenges you to balance fairness, inclusivity, and ethical use of sensitive personal attributes. \"\n        \"The decision set differs from Wave 1: some attributes are useful for post-hoc bias auditing but risky inside a predictive model. \"\n        \"You must decide how (or whether) to retain them.\"\n    ),\n    mo.md(\"&nbsp;\"),\n    mo.md(\"*For every variable choose **one** action:*\"),\n    mo.Html(\n        \"\"\"\n        <div style=\"display:flex; justify-content:center;\">\n          <table style=\"border-collapse:separate; border-spacing:0 6px; text-align:center;\">\n            <thead>\n              <tr>\n                <th style=\"padding:0.5rem 1.5rem;\">Stance</th>\n                <th style=\"padding:0.5rem 1.5rem;\">Meaning</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td style=\"padding:0.5rem 1.5rem;\"><b>Include as-is</b></td>\n                <td style=\"padding:0.5rem 1.5rem;\">\n                  Feed directly into the predictive algorithm.\n                </td>\n              </tr>\n              <tr>\n                <td style=\"padding:0.5rem 1.5rem;\"><b>Keep for Bias-Audit Only</b></td>\n                <td style=\"padding:0.5rem 1.5rem;\">\n                  Store alongside model outputs to test for disparate impact, but do not let the algorithm see it during training.\n                </td>\n              </tr>\n              <tr>\n                <td style=\"padding:0.5rem 1.5rem;\"><b>Exclude Entirely</b></td>\n                <td style=\"padding:0.5rem 1.5rem;\">\n                  Do not collect or use in any form.\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        \"\"\"\n    ),\n])", "code_hash": "eff8bf37cc2c20c5ec5080a67cc763b1", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lEQa", "name": "task_2"}, {"code": "get_race_choice, set_race_choice = mo.state(None)\n\nrace_inc_btn = mo.ui.button(\n    label=\"Include as-is\", kind=\"success\", on_click=lambda _: set_race_choice(\"include_as_is\")\n)\nrace_audit_btn = mo.ui.button(\n    label=\"Keep for Bias-Audit Only\", kind=\"warn\", on_click=lambda _: set_race_choice(\"audit_only\")\n)\nrace_exc_btn = mo.ui.button(\n    label=\"Exclude Entirely\", kind=\"danger\", on_click=lambda _: set_race_choice(\"exclude_entirely\")\n)\n\nrace_content = mo.vstack([\n    mo.md(\"Student\u2019s self-reported racial/ethnic identity. Used during exploratory data analysis but removed before predictive modeling.\"),\n    mo.hstack([race_inc_btn, race_audit_btn, race_exc_btn], gap=\"1rem\"),\n])\nmo.accordion({\"Race\": race_content})\n", "code_hash": "c5c82a5edb753208de3e53bfd347c7d0", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "PKri", "name": "race_status"}, {"code": "race_choice = get_race_choice()\n\nrace_emoji_map = {\n    \"include_as_is\": \"\ud83d\udfe2\",\n    \"audit_only\": \"\ud83d\udfe0\",\n    \"exclude_entirely\": \"\ud83d\udd34\",\n    None: \"\u26aa\ufe0f\",\n}\nrace_text_map = {\n    \"include_as_is\": \"Include as-is\",\n    \"audit_only\": \"Keep for Bias-Audit Only\",\n    \"exclude_entirely\": \"Exclude Entirely\",\n    None: \"no selection\",\n}\n\nmo.md(f\"You decided to {race_emoji_map[race_choice]} **{race_text_map[race_choice]}** the variable.\")", "code_hash": "565b8c186c009afff313cfb7470b6a29", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "race_feedback"}, {"code": "race_selected_flag = get_race_choice()\nget_text_just_race, set_text_just_race = mo.state(\"\")\n\ncontent_just_race = (\n    mo.ui.text_area(\n        label=\"Please briefly justify your reasoning for your Race choice\",\n        value=get_text_just_race(),\n        on_change=lambda v: set_text_just_race(v),\n        rows=4,\n    )\n    if race_selected_flag is not None\n    else mo.md(\"\")\n)\ncontent_just_race", "code_hash": "613dc67a3f3e050f0ce0157bf2d3cd0c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SFPL", "name": "race_justification"}, {"code": "get_gender_choice, set_gender_choice = mo.state(None)\n\ngender_inc_btn = mo.ui.button(\n    label=\"Include as-is\", kind=\"success\", on_click=lambda _: set_gender_choice(\"include_as_is\")\n)\ngender_audit_btn = mo.ui.button(\n    label=\"Keep for Bias-Audit Only\", kind=\"warn\", on_click=lambda _: set_gender_choice(\"audit_only\")\n)\ngender_exc_btn = mo.ui.button(\n    label=\"Exclude Entirely\", kind=\"danger\", on_click=lambda _: set_gender_choice(\"exclude_entirely\")\n)\n\ngender_content = mo.vstack([\n    mo.md(\"Student\u2019s gender identity as reported during application. Protected class variable that raises ethical considerations.\"),\n    mo.hstack([gender_inc_btn, gender_audit_btn, gender_exc_btn], gap=\"1rem\"),\n])\nmo.accordion({\"Gender\": gender_content})\n", "code_hash": "a5420278bcc3bf94c88ca30d42970e9b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "BYtC", "name": "gender_status"}, {"code": "gender_choice = get_gender_choice()\n\ngender_emoji_map = {\n    \"include_as_is\": \"\ud83d\udfe2\",\n    \"audit_only\": \"\ud83d\udfe0\",\n    \"exclude_entirely\": \"\ud83d\udd34\",\n    None: \"\u26aa\ufe0f\",\n}\ngender_text_map = {\n    \"include_as_is\": \"Include as-is\",\n    \"audit_only\": \"Keep for Bias-Audit Only\",\n    \"exclude_entirely\": \"Exclude Entirely\",\n    None: \"no selection\",\n}\n\nmo.md(f\"You decided to {gender_emoji_map[gender_choice]} **{gender_text_map[gender_choice]}** the variable.\")", "code_hash": "d43598d38779276cf73bda24391f7bf5", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "RGSE", "name": "gender_feedback"}, {"code": "gender_selected_flag = get_gender_choice()\nget_text_just_gender, set_text_just_gender = mo.state(\"\")\n\ncontent_just_gender = (\n    mo.ui.text_area(\n        label=\"Please briefly justify your reasoning for your Gender choice\",\n        value=get_text_just_gender(),\n        on_change=lambda v: set_text_just_gender(v),\n        rows=4,\n    )\n    if gender_selected_flag is not None\n    else mo.md(\"\")\n)\ncontent_just_gender", "code_hash": "c16d37ef36ef527132f9196e6a6f7240", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Kclp", "name": "gender_justification"}, {"code": "get_age_choice, set_age_choice = mo.state(None)\n\nage_inc_btn = mo.ui.button(\n    label=\"Include as-is\", kind=\"success\", on_click=lambda _: set_age_choice(\"include_as_is\")\n)\nage_audit_btn = mo.ui.button(\n    label=\"Keep for Bias-Audit Only\", kind=\"warn\", on_click=lambda _: set_age_choice(\"audit_only\")\n)\nage_exc_btn = mo.ui.button(\n    label=\"Exclude Entirely\", kind=\"danger\", on_click=lambda _: set_age_choice(\"exclude_entirely\")\n)\n\nage_content = mo.vstack([\n    mo.md(\"Student\u2019s age at enrollment. Flagged as protected class variable. Consider whether age-based predictions might disadvantage non-traditional students while recognizing that age can reflect meaningful differences in life circumstances.\"),\n    mo.hstack([age_inc_btn, age_audit_btn, age_exc_btn], gap=\"1rem\"),\n])\nmo.accordion({\"Age\": age_content})\n", "code_hash": "5f1bbd6dc06048b9d9489c32eb13d07e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "emfo", "name": "age_status"}, {"code": "age_choice = get_age_choice()\n\nage_emoji_map = {\n    \"include_as_is\": \"\ud83d\udfe2\",\n    \"audit_only\": \"\ud83d\udfe0\",\n    \"exclude_entirely\": \"\ud83d\udd34\",\n    None: \"\u26aa\ufe0f\",\n}\nage_text_map = {\n    \"include_as_is\": \"Include as-is\",\n    \"audit_only\": \"Keep for Bias-Audit Only\",\n    \"exclude_entirely\": \"Exclude Entirely\",\n    None: \"no selection\",\n}\n\nmo.md(f\"You decided to {age_emoji_map[age_choice]} **{age_text_map[age_choice]}** the variable.\")", "code_hash": "cd30a92a9b5d60e0e08a792e7548e2ef", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hstk", "name": "age_feedback"}, {"code": "age_selected_flag = get_age_choice()\nget_text_just_age, set_text_just_age = mo.state(\"\")\n\ncontent_just_age = (\n    mo.ui.text_area(\n        label=\"Please briefly justify your reasoning for your Age choice\",\n        value=get_text_just_age(),\n        on_change=lambda v: set_text_just_age(v),\n        rows=4,\n    )\n    if age_selected_flag is not None\n    else mo.md(\"\")\n)\ncontent_just_age", "code_hash": "0e53e384048cb9e57fcd6b6913c29607", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nWHF", "name": "age_justification"}, {"code": "get_pronouns_choice, set_pronouns_choice = mo.state(None)\n\npronouns_inc_btn = mo.ui.button(\n    label=\"Include as-is\", kind=\"success\", on_click=lambda _: set_pronouns_choice(\"include_as_is\")\n)\npronouns_audit_btn = mo.ui.button(\n    label=\"Keep for Bias-Audit Only\", kind=\"warn\", on_click=lambda _: set_pronouns_choice(\"audit_only\")\n)\npronouns_exc_btn = mo.ui.button(\n    label=\"Exclude Entirely\", kind=\"danger\", on_click=lambda _: set_pronouns_choice(\"exclude_entirely\")\n)\n\npronouns_content = mo.vstack([\n    mo.md(\"Student-provided pronoun preference collected by campus climate office. Optional field with high missingness. Can affirm identity but is not a stable predictor of retention.\"),\n    mo.hstack([pronouns_inc_btn, pronouns_audit_btn, pronouns_exc_btn], gap=\"1rem\"),\n])\nmo.accordion({\"Preferred Pronouns\": pronouns_content})\n", "code_hash": "9b41f12720d78b5e711c61ceeeaab639", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "iLit", "name": "pronouns_status"}, {"code": "pronouns_choice = get_pronouns_choice()\n\npronouns_emoji_map = {\n    \"include_as_is\": \"\ud83d\udfe2\",\n    \"audit_only\": \"\ud83d\udfe0\",\n    \"exclude_entirely\": \"\ud83d\udd34\",\n    None: \"\u26aa\ufe0f\",\n}\npronouns_text_map = {\n    \"include_as_is\": \"Include as-is\",\n    \"audit_only\": \"Keep for Bias-Audit Only\",\n    \"exclude_entirely\": \"Exclude Entirely\",\n    None: \"no selection\",\n}\n\nmo.md(f\"You decided to {pronouns_emoji_map[pronouns_choice]} **{pronouns_text_map[pronouns_choice]}** the variable.\")", "code_hash": "1f88b643a8dd4d6891dfb216557995b4", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZHCJ", "name": "pronouns_feedback"}, {"code": "pronouns_selected_flag = get_pronouns_choice()\nget_text_just_pronouns, set_text_just_pronouns = mo.state(\"\")\n\ncontent_just_pronouns = (\n    mo.ui.text_area(\n        label=\"Please briefly justify your reasoning for your Preferred Pronouns choice\",\n        value=get_text_just_pronouns(),\n        on_change=lambda v: set_text_just_pronouns(v),\n        rows=4,\n    )\n    if pronouns_selected_flag is not None\n    else mo.md(\"\")\n)\ncontent_just_pronouns", "code_hash": "eac16b3e021e7e15d4195fbaf0602b1f", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ROlb", "name": "pronouns_justification"}, {"code": "# ----- Race message\nrace = get_race_choice()\nif race == \"include_as_is\":\n    msg_race = \"Using Race as a predictive feature can embed historical inequities and violate institutional policy. Retain only for bias-audit.\"\nelif race == \"audit_only\":\n    msg_race = \"Right call\"\nelif race == \"exclude_entirely\":\n    msg_race = \"Without Race you lose the ability to audit fair outcomes across groups. Best practice is to keep it for auditing while excluding it from model training.\"\nelse:\n    msg_race = \"\"\n\n# ----- Gender message\ngender = get_gender_choice()\nif gender == \"include_as_is\":\n    msg_gender = \"Directly modelling on Gender risks discriminatory interventions. Consider audit-only retention.\"\nelif gender == \"audit_only\":\n    msg_gender = \"Right call\"\nelif gender == \"exclude_entirely\":\n    msg_gender = \"Eliminating Gender data removes a key lens for detecting gender-based disparities as-is outputs.\"\nelse:\n    msg_gender = \"\"\n\n# ----- Age message\nage = get_age_choice()\nif age == \"include_as_is\":\n    msg_age = \"Age may correlate with persistence but also with protected status (non-traditional learners). Document equity safeguards or shift to audit-only use.\"\nelif age == \"audit_only\":\n    msg_age = \"Right call\"\nelif age == \"exclude_entirely\":\n    msg_age = \"Excluding Age erases patterns relevant to adult learners and hampers fairness checks. Audit-only use is often a balanced choice.\"\nelse:\n    msg_age = \"\"\n\n# ----- Pronouns message\npronouns = get_pronouns_choice()\nif pronouns == \"include_as_is\":\n    msg_pronouns = \"Preferred Pronouns are not predictive of persistence and risk trivializing gender identity. Exclude or store only for awareness training, not analytics.\"\nelif pronouns == \"audit_only\":\n    msg_pronouns = \"Pronoun data lack completeness and standardization, limiting audit utility. Exclusion is usually appropriate.\"\nelif pronouns == \"exclude_entirely\":\n    msg_pronouns = \"Right call\"\nelse:\n    msg_pronouns = \"\"\n\ncontent_detail_feedback2 = mo.vstack([\n    mo.md(f\"**Race:** {msg_race}\"),\n    mo.md(f\"**Gender:** {msg_gender}\"),\n    mo.md(f\"**Age:** {msg_age}\"),\n    mo.md(f\"**Preferred Pronouns:** {msg_pronouns}\"),\n])\n\nmo.accordion({\"Detailed Feedback \u2013 Task 2\": content_detail_feedback2})", "code_hash": "32480edf9d1e1254f1343c423a661a12", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "qnkX", "name": "detailed_feedback_task2"}, {"code": "submit_state, set_submit_state = mo.state(False)", "code_hash": "618d6bdc6beeb7cad68d2a7af5bebaf1", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "TqIu", "name": "wrapup_intro"}, {"code": "def decision_label(choice):\n    if choice in [\"include\", \"include_as_is\"]:\n        return \"Include\"\n    elif choice in [\"audit_only\", \"flag\", \"flag_improvement\"]:\n        return \"Flag\"\n    elif choice in [\"exclude\", \"exclude_entirely\", \"exclude_unreliable\"]:\n        return \"Exclude\"\n    else:\n        return \"No Selection\"\n\ngrouped_rows = {\n    \"Protected-Attribute Gate\": [\n        (decision_label(get_race_choice()), \"Race\"),\n        (decision_label(get_gender_choice()), \"Gender\"),\n        (decision_label(get_age_choice()), \"Age\"),\n        (decision_label(get_pronouns_choice()), \"Preferred Pronouns\"),\n    ],\n}\n\nw2_count = sum(\n    1 for _, rows in grouped_rows.items()\n    for (decision, _) in rows\n    if decision == \"Include\"\n)\n\ntable_html = \"<table style='border-collapse:collapse; width:100%; text-align:left;'>\"\ntable_html += \"<thead><tr><th>Group (Wave)</th><th>Decision</th><th>Variable</th></tr></thead><tbody>\"\n\nfor group, rows in grouped_rows.items():\n    table_html += f\"<tr><td colspan='3' style='font-weight:bold; padding-top:10px;'>{group}</td></tr>\"\n    for decision, variable in rows:\n        color = \" style='background-color:#e8f5e9;'\" if decision == \"Include\" else \"\"\n        table_html += f\"<tr{color}><td></td><td>{decision}</td><td>{variable}</td></tr>\"\n    table_html += \"<tr><td colspan='3' style='height:8px;'></td></tr>\"\n\ntable_html += \"</tbody></table>\"\n\nmo.vstack([\n    mo.md(\"## End-of-Scenario Wrap-Up \u2013 Variable-Selection Brief\"),\n    mo.md(\n        f\"**_Your model will use the {w2_count} variables highlighted in green._** \"\n        \"Is this acceptable, or would you like to revise your selections?\"\n    ),\n    mo.Html(table_html)\n])", "code_hash": "deb8c5519bd8b0fbe956d1954db6da1f", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Vxnm", "name": "wrapup_summary_table"}, {"code": "mo.vstack([\n    mo.Html(\"\"\"\n    <div style=\"display:flex; justify-content:center; gap:1rem; margin-bottom:1rem;\">\n        <a href=\"#task_2\" style=\"padding:6px 12px; background:#eee; border-radius:6px; text-decoration:none;\">\n            Review Wave 2\n        </a>\n    </div>\n    \"\"\"),\n    mo.Html(\"\"\"\n    <hr style=\"border: 3px solid #4CAF50; margin-top:1rem; margin-bottom:1rem;\">\n    <div style=\"text-align:center; color:#4CAF50; font-size:1.5rem; font-weight:bold; margin-bottom:1rem;\">\n        Final Feedback\n    </div>\n    \"\"\")\n])", "code_hash": "83fae1a07180fb4b52f8f5dc83711426", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "DnEU", "name": "wrapup_buttons"}, {"code": "def feedback_text_protected(var_protected, choice_protected):\n    if var_protected == \"Race\":\n        if choice_protected == \"include_as_is\":\n            return \"Using Race as a predictive feature can embed historical inequities and violate institutional policy. Retain only for bias-audit.\"\n        elif choice_protected == \"exclude_entirely\":\n            return \"Without Race you lose the ability to audit fair outcomes across groups.\"\n        elif choice_protected == \"audit_only\":\n            return \"Right call\"\n    elif var_protected == \"Gender\":\n        if choice_protected == \"include_as_is\":\n            return \"Directly modelling on Gender risks discriminatory interventions.\"\n        elif choice_protected == \"exclude_entirely\":\n            return \"Eliminating Gender data removes a key lens for detecting disparities.\"\n        elif choice_protected == \"audit_only\":\n            return \"Right call\"\n    elif var_protected == \"Age\":\n        if choice_protected == \"include_as_is\":\n            return \"Age may correlate with persistence but also with protected status. Audit-only is safer.\"\n        elif choice_protected == \"exclude_entirely\":\n            return \"Excluding Age erases patterns relevant to adult learners.\"\n        elif choice_protected == \"audit_only\":\n            return \"Right call\"\n    elif var_protected == \"Preferred Pronouns\":\n        if choice_protected == \"include_as_is\":\n            return \"Preferred Pronouns are not predictive of persistence and risk trivializing identity.\"\n        elif choice_protected == \"exclude_entirely\":\n            return \"Right call\"\n        elif choice_protected == \"audit_only\":\n            return \"Pronoun data lack completeness and standardization; exclusion is often appropriate.\"\n\nvars_choices = {\n    \"Race\": get_race_choice(),\n    \"Gender\": get_gender_choice(),\n    \"Age\": get_age_choice(),\n    \"Preferred Pronouns\": get_pronouns_choice(),\n}\n\nwrong_lines, correct_vars, alert_flag = [], [], False\n\nfor var, choice in vars_choices.items():\n    txt = feedback_text_protected(var, choice)\n    if txt and \"Right call\" not in txt:\n        alert_flag = True\n        wrong_lines.append(mo.md(f\"**{var}:** {txt}\"))\n    else:\n        correct_vars.append(var)\n\nwave_alert = (\n    mo.md(\"\u26a0\ufe0f **At least one restricted variable still needs your attention.**\")\n    if alert_flag else\n    mo.md(\"\u2705 **Everything looks good in this wave!**\")\n)\n\ncorrect_line = (\n    mo.md(f\"\u2705 **No major concerns for:** {', '.join(correct_vars)}\")\n    if correct_vars else mo.md(\"\")\n)\n\nmo.accordion({\"Protected-Attribute Gate Feedback\": mo.vstack([wave_alert] + wrong_lines + [correct_line])})", "code_hash": "a042fc326303520ca26baf5f4e79c714", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ulZA", "name": "wrapup_feedback_protected"}, {"code": "get_prod_text, set_prod_text = mo.state(\"\")\nget_refl_text, set_refl_text = mo.state(\"\")\n\nmo.vstack([\n    mo.md(\"## Placeholder for Product\"),\n    mo.Html(\"<div style='width:100%;'>\"),  # force full-width container\n    mo.ui.text_area(\n        label=\"Enter your product notes here\",\n        value=get_prod_text(),\n        on_change=lambda v: set_prod_text(v),\n        rows=8,\n    ),\n    mo.Html(\"</div>\"),\n\n    mo.md(\"&nbsp;\"),\n\n    mo.md(\"## Placeholder for Learner Reflection\"),\n    mo.Html(\"<div style='width:100%;'>\"),\n    mo.ui.text_area(\n        label=\"Please write your reflection here\",\n        value=get_refl_text(),\n        on_change=lambda v: set_refl_text(v),\n        rows=12,\n    ),\n    mo.Html(\"</div>\"),\n\n    mo.md(\"&nbsp;\"),\n])", "code_hash": "520a75e04c9e4be3b877f88679ccbfa6", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ecfG", "name": "task_f"}], "metadata": {"marimo_version": "0.15.0"}, "version": "1"},
            "session": {"cells": [{"code_hash": "4a3c0e3f93b064165ebc40641a4610c2", "console": [], "id": "Hbol", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h1 id=\"variable-selection-scenario-task-2\">Variable selection scenario - Task 2</h1></span>"}, "type": "data"}]}, {"code_hash": "051c1840f00955ddaaded3ace4f61e37", "console": [], "id": "MJUe", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"the-story-so-far\">The story so far</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">The university is a large research institution that competes for students in a crowded higher-education market. Over the past five years the first-to-second-year retention rate has drifted downward, and graduation timelines have lengthened. Senior leadership has asked the Office of the Provost to treat student persistence as a strategic priority rather than a routine metric. An internal mandate now calls for data-informed, proactive outreach so that support staff can offer help long before a student considers leaving. Within the Office of the Provost a small Student Success Analytics group has been established. This team combines institutional researchers, academic advisors, compliance officers, and data engineers. Its first assignment is to create an early warning intelligence tool that flags continuing undergraduates who appear at risk of stopping out or falling behind schedule. Advisors will then contact those students and connect them with tutoring, financial counseling, or mentoring. The analytics group is expected to respect privacy regulations such as FERPA and recent federal guidance that limits the use of individual financial-aid records in automated decision systems. It is also expected to uphold the university commitment to equity and transparency in every technical choice.</span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span><span class=\"markdown prose dark:prose-invert\"><h2 id=\"role\">Role</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You serve as the team\u2019s data science specialist. Your immediate task is not to build a model but to decide which pieces of information should be fed into one. Working with colleagues you have assembled a data dictionary drawn from the university warehouse. The dictionary lists common attributes such as high school grade point averages, standardized test scores, race, gender, residency status, and course loads. It also contains financial indicators like Pell eligibility and Expected Family Contribution. Several context-specific items are included as well.Examples are whether a student applied to a regional campus after a main-campus denial, whether a student is a varsity athlete,and the distance between the student\u2019s home address and campus. No raw records are available at this stage of the project;only the variable descriptions, their known limitations, and any red-flag notes provided by legal or ethical reviewers.</span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span><span class=\"markdown prose dark:prose-invert\"><h2 id=\"business-objective-product\">Business Objective &amp; Product</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Academic advisors need a concise, defensible list of candidate predictors that can drive a predictive model without violating regulations or undermining equitable treatment. Your deliverable for this scenario is a Variable Selection Brief. In one page you will designate each variable as included, excluded, or flagged for additional discussion. For every decision you will provide a short rationale that links back to the goals of privacy protection, fairness, and practical usefulness. Advisors and compliance staff will review and sign this brief before any modelling work proceeds.</span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span></div>"}, "type": "data"}]}, {"code_hash": "f4526bf7a41065bd392e1c952c66c889", "console": [], "id": "vblA", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"lecture-material\">Lecture material</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">When thinking about whether protected attributes belong in a predictive model, it is important to resist the temptation to see them as just another column in a dataset. Attributes such as race, gender, or age carry a long history of discrimination and unequal treatment. Even if they appear to improve predictive accuracy, using them uncritically risks reinforcing the very inequities that educational interventions are supposed to address. The fact that a variable is predictive does not make it acceptable to use, and prediction alone cannot justify decisions that may harm vulnerable groups.</span>\n<span class=\"paragraph\">At the same time, excluding protected attributes entirely can also be problematic. If these attributes are removed from the dataset, we lose the ability to check whether a model is producing biased or unequal outcomes across groups. Keeping a variable for auditing rather than prediction can therefore be a responsible compromise, as it allows practitioners to evaluate fairness without allowing the model to directly act on sensitive categories. The decision is not just technical but also institutional: how would students or the public interpret the fact that personal identity traits were factored into a model? Would it build trust, or would it suggest that the institution is scoring people based on who they are rather than what they do?</span>\n<span class=\"paragraph\">There is no simple formula for these choices, which is why they require careful reflection. Including a protected attribute might seem to improve the model in the short run, but in the longer term it could legitimize stereotypes or misallocate resources in ways that deepen inequality. Excluding it without reflection, on the other hand, can make disparities invisible and prevent meaningful oversight. The critical stance is to recognize that data science is never value-neutral: every decision about what to measure and how to use it reflects judgments about fairness, responsibility, and accountability. As you evaluate these variables, you should consider not only what they predict but what it means to use them in practice, and whether that choice aligns with the broader goals of equity and trust in data-driven decision making.</span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span><span class=\"markdown prose dark:prose-invert\"><h2 id=\"learner-reflection\">Learner Reflection</h2></span><div style='width:100%;'><marimo-ui-element object-id='vblA-0' random-id='d0c6f7dc-e33a-b7df-1917-71d512275446'><marimo-text-area data-initial-value='&quot;&quot;' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Considering what you just read, please write a short paragraph on how you think a person in your hypothetical position should guide their actions during this process. There is no right or wrong answer; this is a place for you to lay out your expectations before interacting with the task at hand&lt;/span&gt;&lt;/span&gt;&quot;' data-placeholder='&quot;&quot;' data-disabled='false' data-debounce='true' data-full-width='false' data-rows='12'></marimo-text-area></marimo-ui-element></div><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span></div>"}, "type": "data"}]}, {"code_hash": "1ddd71919cd6750f18573423b547337b", "console": [], "id": "bkHC", "outputs": [{"data": {"text/html": "<div id=\"task_2\"></div>"}, "type": "data"}]}, {"code_hash": "eff8bf37cc2c20c5ec5080a67cc763b1", "console": [], "id": "lEQa", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"task-2-protected-attribute-gate-fairness-and-equity-check\">Task 2 \u2013 Protected-Attribute Gate: Fairness and Equity Check</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>Note to the learner</strong><br />\nThis wave challenges you to balance fairness, inclusivity, and ethical use of sensitive personal attributes. The decision set differs from Wave 1: some attributes are useful for post-hoc bias auditing but risky inside a predictive model. You must decide how (or whether) to retain them.</span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><em>For every variable choose </em><em>one</em><em> action:</em></span></span>\n        <div style=\"display:flex; justify-content:center;\">\n          <table style=\"border-collapse:separate; border-spacing:0 6px; text-align:center;\">\n            <thead>\n              <tr>\n                <th style=\"padding:0.5rem 1.5rem;\">Stance</th>\n                <th style=\"padding:0.5rem 1.5rem;\">Meaning</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td style=\"padding:0.5rem 1.5rem;\"><b>Include as-is</b></td>\n                <td style=\"padding:0.5rem 1.5rem;\">\n                  Feed directly into the predictive algorithm.\n                </td>\n              </tr>\n              <tr>\n                <td style=\"padding:0.5rem 1.5rem;\"><b>Keep for Bias-Audit Only</b></td>\n                <td style=\"padding:0.5rem 1.5rem;\">\n                  Store alongside model outputs to test for disparate impact, but do not let the algorithm see it during training.\n                </td>\n              </tr>\n              <tr>\n                <td style=\"padding:0.5rem 1.5rem;\"><b>Exclude Entirely</b></td>\n                <td style=\"padding:0.5rem 1.5rem;\">\n                  Do not collect or use in any form.\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        </div>"}, "type": "data"}]}, {"code_hash": "c5c82a5edb753208de3e53bfd347c7d0", "console": [], "id": "PKri", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Race&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Student\u2019s self-reported racial/ethnic identity. Used during exploratory data analysis but removed before predictive modeling.</span></span><div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 1remrem'><marimo-ui-element object-id='PKri-0' random-id='4d2c8260-8da5-56c2-a02f-aa8158ecf419'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Include as-is&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;success&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='PKri-1' random-id='29553d34-0847-5de6-b521-8174a3e6f741'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Keep for Bias-Audit Only&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;warn&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='PKri-2' random-id='77267a59-01f6-2b88-1081-2540953a569c'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Exclude Entirely&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;danger&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element></div></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "565b8c186c009afff313cfb7470b6a29", "console": [], "id": "Xref", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You decided to \u26aa\ufe0f <strong>no selection</strong> the variable.</span></span>"}, "type": "data"}]}, {"code_hash": "613dc67a3f3e050f0ce0157bf2d3cd0c", "console": [], "id": "SFPL", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"></span>"}, "type": "data"}]}, {"code_hash": "a5420278bcc3bf94c88ca30d42970e9b", "console": [], "id": "BYtC", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Gender&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Student\u2019s gender identity as reported during application. Protected class variable that raises ethical considerations.</span></span><div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 1remrem'><marimo-ui-element object-id='BYtC-0' random-id='e6e67972-4a31-a05e-ccd6-0ed4aef42d74'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Include as-is&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;success&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='BYtC-1' random-id='af9ae1d7-8cfb-536d-dcec-c16ce5705a0f'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Keep for Bias-Audit Only&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;warn&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='BYtC-2' random-id='6cee2f7e-2ba9-5bd5-8c46-965c8a1d143c'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Exclude Entirely&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;danger&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element></div></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "d43598d38779276cf73bda24391f7bf5", "console": [], "id": "RGSE", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You decided to \u26aa\ufe0f <strong>no selection</strong> the variable.</span></span>"}, "type": "data"}]}, {"code_hash": "c16d37ef36ef527132f9196e6a6f7240", "console": [], "id": "Kclp", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"></span>"}, "type": "data"}]}, {"code_hash": "5f1bbd6dc06048b9d9489c32eb13d07e", "console": [], "id": "emfo", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Age&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Student\u2019s age at enrollment. Flagged as protected class variable. Consider whether age-based predictions might disadvantage non-traditional students while recognizing that age can reflect meaningful differences in life circumstances.</span></span><div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 1remrem'><marimo-ui-element object-id='emfo-0' random-id='53214a7a-57d7-1b45-2d5e-38e4cf68cba3'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Include as-is&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;success&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='emfo-1' random-id='ad912ce3-fe7f-27d4-a2d7-3f98e98fb4ce'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Keep for Bias-Audit Only&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;warn&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='emfo-2' random-id='5472918e-b38d-6dfa-2b34-1a90869c720a'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Exclude Entirely&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;danger&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element></div></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "cd30a92a9b5d60e0e08a792e7548e2ef", "console": [], "id": "Hstk", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You decided to \u26aa\ufe0f <strong>no selection</strong> the variable.</span></span>"}, "type": "data"}]}, {"code_hash": "0e53e384048cb9e57fcd6b6913c29607", "console": [], "id": "nWHF", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"></span>"}, "type": "data"}]}, {"code_hash": "9b41f12720d78b5e711c61ceeeaab639", "console": [], "id": "iLit", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Preferred Pronouns&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Student-provided pronoun preference collected by campus climate office. Optional field with high missingness. Can affirm identity but is not a stable predictor of retention.</span></span><div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 1remrem'><marimo-ui-element object-id='iLit-0' random-id='a9e7d335-44cf-ac88-d888-55994e35b07b'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Include as-is&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;success&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='iLit-1' random-id='36e4a1e9-7639-bc4f-9b6e-6eaf800918cf'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Keep for Bias-Audit Only&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;warn&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='iLit-2' random-id='d80da81f-a5a9-5733-6930-70a97bbc3b81'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Exclude Entirely&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;danger&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element></div></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "1f88b643a8dd4d6891dfb216557995b4", "console": [], "id": "ZHCJ", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You decided to \u26aa\ufe0f <strong>no selection</strong> the variable.</span></span>"}, "type": "data"}]}, {"code_hash": "eac16b3e021e7e15d4195fbaf0602b1f", "console": [], "id": "ROlb", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"></span>"}, "type": "data"}]}, {"code_hash": "32480edf9d1e1254f1343c423a661a12", "console": [], "id": "qnkX", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Detailed Feedback &#92;u2013 Task 2&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>Race:</strong> </span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>Gender:</strong> </span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>Age:</strong> </span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>Preferred Pronouns:</strong> </span></span></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "618d6bdc6beeb7cad68d2a7af5bebaf1", "console": [], "id": "TqIu", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "deb8c5519bd8b0fbe956d1954db6da1f", "console": [], "id": "Vxnm", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"end-of-scenario-wrap-up-variable-selection-brief\">End-of-Scenario Wrap-Up \u2013 Variable-Selection Brief</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong><em>Your model will use the 0 variables highlighted in green.</em></strong> Is this acceptable, or would you like to revise your selections?</span></span><table style='border-collapse:collapse; width:100%; text-align:left;'><thead><tr><th>Group (Wave)</th><th>Decision</th><th>Variable</th></tr></thead><tbody><tr><td colspan='3' style='font-weight:bold; padding-top:10px;'>Protected-Attribute Gate</td></tr><tr><td></td><td>No Selection</td><td>Race</td></tr><tr><td></td><td>No Selection</td><td>Gender</td></tr><tr><td></td><td>No Selection</td><td>Age</td></tr><tr><td></td><td>No Selection</td><td>Preferred Pronouns</td></tr><tr><td colspan='3' style='height:8px;'></td></tr></tbody></table></div>"}, "type": "data"}]}, {"code_hash": "83fae1a07180fb4b52f8f5dc83711426", "console": [], "id": "DnEU", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'>\n    <div style=\"display:flex; justify-content:center; gap:1rem; margin-bottom:1rem;\">\n        <a href=\"#task_2\" style=\"padding:6px 12px; background:#eee; border-radius:6px; text-decoration:none;\">\n            Review Wave 2\n        </a>\n    </div>\n    \n    <hr style=\"border: 3px solid #4CAF50; margin-top:1rem; margin-bottom:1rem;\">\n    <div style=\"text-align:center; color:#4CAF50; font-size:1.5rem; font-weight:bold; margin-bottom:1rem;\">\n        Final Feedback\n    </div>\n    </div>"}, "type": "data"}]}, {"code_hash": "a042fc326303520ca26baf5f4e79c714", "console": [], "id": "ulZA", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Protected-Attribute Gate Feedback&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">\u2705 <strong>Everything looks good in this wave!</strong></span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">\u2705 <strong>No major concerns for:</strong> Race, Gender, Age, Preferred Pronouns</span></span></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "520a75e04c9e4be3b877f88679ccbfa6", "console": [], "id": "ecfG", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"placeholder-for-product\">Placeholder for Product</h2></span><div style='width:100%;'><marimo-ui-element object-id='ecfG-0' random-id='b8c8b68b-b723-44ef-e1aa-295936170ff6'><marimo-text-area data-initial-value='&quot;&quot;' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Enter your product notes here&lt;/span&gt;&lt;/span&gt;&quot;' data-placeholder='&quot;&quot;' data-disabled='false' data-debounce='true' data-full-width='false' data-rows='8'></marimo-text-area></marimo-ui-element></div><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span><span class=\"markdown prose dark:prose-invert\"><h2 id=\"placeholder-for-learner-reflection\">Placeholder for Learner Reflection</h2></span><div style='width:100%;'><marimo-ui-element object-id='ecfG-1' random-id='79cc1deb-1767-9108-59f1-a8cb978a9b10'><marimo-text-area data-initial-value='&quot;&quot;' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Please write your reflection here&lt;/span&gt;&lt;/span&gt;&quot;' data-placeholder='&quot;&quot;' data-disabled='false' data-debounce='true' data-full-width='false' data-rows='12'></marimo-text-area></marimo-ui-element></div><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span></div>"}, "type": "data"}]}], "metadata": {"marimo_version": "0.15.0"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.15.0%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%22%23%20Variable%20selection%20scenario%20-%20Task%202%5Cn%22%0A%0A%20%20%20%20)%0A%20%20%20%20return%20(mo%2C)%0A%0A%0A%40app.cell%0Adef%20task_1(mo)%3A%0A%20%20%20%20mo.vstack(%0A%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%201)%20subtitle%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%23%23%20The%20story%20so%20far%22)%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%202)%20%E2%80%9CNote%20to%20the%20team%E2%80%9D%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22The%20university%20is%20a%20large%20research%20institution%20that%20competes%20for%20students%20in%20a%20crowded%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22higher-education%20market.%20Over%20the%20past%20five%20years%20the%20first-to-second-year%20retention%20rate%20has%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22drifted%20downward%2C%20and%20graduation%20timelines%20have%20lengthened.%20Senior%20leadership%20has%20asked%20the%20Office%20of%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22the%20Provost%20to%20treat%20student%20persistence%20as%20a%20strategic%20priority%20rather%20than%20a%20routine%20metric.%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22An%20internal%20mandate%20now%20calls%20for%20data-informed%2C%20proactive%20outreach%20so%20that%20support%20staff%20can%20offer%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22help%20long%20before%20a%20student%20considers%20leaving.%20Within%20the%20Office%20of%20the%20Provost%20a%20small%20Student%20Success%20Analytics%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22group%20has%20been%20established.%20This%20team%20combines%20institutional%20researchers%2C%20academic%20advisors%2C%20compliance%20officers%2C%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22and%20data%20engineers.%20Its%20first%20assignment%20is%20to%20create%20an%20early%20warning%20intelligence%20tool%20that%20flags%20continuing%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22undergraduates%20who%20appear%20at%20risk%20of%20stopping%20out%20or%20falling%20behind%20schedule.%20Advisors%20will%20then%20contact%20those%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22students%20and%20connect%20them%20with%20tutoring%2C%20financial%20counseling%2C%20or%20mentoring.%20The%20analytics%20group%20is%20expected%20to%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22respect%20privacy%20regulations%20such%20as%20FERPA%20and%20recent%20federal%20guidance%20that%20limits%20the%20use%20of%20individual%20financial-aid%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22records%20in%20automated%20decision%20systems.%20It%20is%20also%20expected%20to%20uphold%20the%20university%20commitment%20to%20equity%20and%20transparency%20in%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22every%20technical%20choice.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Role%22)%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%202)%20%E2%80%9CNote%20to%20the%20team%E2%80%9D%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22You%20serve%20as%20the%20team%E2%80%99s%20data%20science%20specialist.%20Your%20immediate%20task%20is%20not%20to%20build%20a%20model%20but%20to%20decide%20which%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pieces%20of%20information%20should%20be%20fed%20into%20one.%20Working%20with%20colleagues%20you%20have%20assembled%20a%20data%20dictionary%20drawn%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22from%20the%20university%20warehouse.%20The%20dictionary%20lists%20common%20attributes%20such%20as%20high%20school%20grade%20point%20averages%2C%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22standardized%20test%20scores%2C%20race%2C%20gender%2C%20residency%20status%2C%20and%20course%20loads.%20It%20also%20contains%20financial%20indicators%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22like%20Pell%20eligibility%20and%20Expected%20Family%20Contribution.%20Several%20context-specific%20items%20are%20included%20as%20well.%22%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Examples%20are%20whether%20a%20student%20applied%20to%20a%20regional%20campus%20after%20a%20main-campus%20denial%2C%20whether%20a%20student%20is%20a%20varsity%20athlete%2C%22%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22and%20the%20distance%20between%20the%20student%E2%80%99s%20home%20address%20and%20campus.%20No%20raw%20records%20are%20available%20at%20this%20stage%20of%20the%20project%3B%22%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22only%20the%20variable%20descriptions%2C%20their%20known%20limitations%2C%20and%20any%20red-flag%20notes%20provided%20by%20legal%20or%20ethical%20reviewers.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Business%20Objective%20%26%20Product%22)%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%202)%20%E2%80%9CNote%20to%20the%20team%E2%80%9D%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Academic%20advisors%20need%20a%20concise%2C%20defensible%20list%20of%20candidate%20predictors%20that%20can%20drive%20a%20predictive%20model%20without%20violating%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22regulations%20or%20undermining%20equitable%20treatment.%20Your%20deliverable%20for%20this%20scenario%20is%20a%20Variable%20Selection%20Brief.%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22In%20one%20page%20you%20will%20designate%20each%20variable%20as%20included%2C%20excluded%2C%20or%20flagged%20for%20additional%20discussion.%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22For%20every%20decision%20you%20will%20provide%20a%20short%20rationale%20that%20links%20back%20to%20the%20goals%20of%20privacy%20protection%2C%20fairness%2C%20and%20practical%20usefulness.%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Advisors%20and%20compliance%20staff%20will%20review%20and%20sign%20this%20brief%20before%20any%20modelling%20work%20proceeds.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20task_f(mo)%3A%0A%20%20%20%20get_init_refl_text%2C%20set_init_refl_text%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Lecture%20material%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%22When%20thinking%20about%20whether%20protected%20attributes%20belong%20in%20a%20predictive%20model%2C%20it%20is%20important%20to%20resist%20the%20temptation%20to%20see%20them%20as%20just%20another%20column%20in%20a%20dataset.%20%22%0A%20%20%20%20%22Attributes%20such%20as%20race%2C%20gender%2C%20or%20age%20carry%20a%20long%20history%20of%20discrimination%20and%20unequal%20treatment.%20Even%20if%20they%20appear%20to%20improve%20predictive%20accuracy%2C%20using%20them%20uncritically%20risks%20reinforcing%20the%20very%20inequities%20that%20educational%20interventions%20are%20supposed%20to%20address.%20%22%0A%20%20%20%20%22The%20fact%20that%20a%20variable%20is%20predictive%20does%20not%20make%20it%20acceptable%20to%20use%2C%20and%20prediction%20alone%20cannot%20justify%20decisions%20that%20may%20harm%20vulnerable%20groups.%5Cn%5Cn%22%0A%20%20%20%20%22At%20the%20same%20time%2C%20excluding%20protected%20attributes%20entirely%20can%20also%20be%20problematic.%20If%20these%20attributes%20are%20removed%20from%20the%20dataset%2C%20we%20lose%20the%20ability%20to%20check%20whether%20a%20model%20is%20producing%20biased%20or%20unequal%20outcomes%20across%20groups.%20%22%0A%20%20%20%20%22Keeping%20a%20variable%20for%20auditing%20rather%20than%20prediction%20can%20therefore%20be%20a%20responsible%20compromise%2C%20as%20it%20allows%20practitioners%20to%20evaluate%20fairness%20without%20allowing%20the%20model%20to%20directly%20act%20on%20sensitive%20categories.%20%22%0A%20%20%20%20%22The%20decision%20is%20not%20just%20technical%20but%20also%20institutional%3A%20how%20would%20students%20or%20the%20public%20interpret%20the%20fact%20that%20personal%20identity%20traits%20were%20factored%20into%20a%20model%3F%20Would%20it%20build%20trust%2C%20or%20would%20it%20suggest%20that%20the%20institution%20is%20scoring%20people%20based%20on%20who%20they%20are%20rather%20than%20what%20they%20do%3F%5Cn%5Cn%22%0A%20%20%20%20%22There%20is%20no%20simple%20formula%20for%20these%20choices%2C%20which%20is%20why%20they%20require%20careful%20reflection.%20Including%20a%20protected%20attribute%20might%20seem%20to%20improve%20the%20model%20in%20the%20short%20run%2C%20but%20in%20the%20longer%20term%20it%20could%20legitimize%20stereotypes%20or%20misallocate%20resources%20in%20ways%20that%20deepen%20inequality.%20%22%0A%20%20%20%20%22Excluding%20it%20without%20reflection%2C%20on%20the%20other%20hand%2C%20can%20make%20disparities%20invisible%20and%20prevent%20meaningful%20oversight.%20The%20critical%20stance%20is%20to%20recognize%20that%20data%20science%20is%20never%20value-neutral%3A%20every%20decision%20about%20what%20to%20measure%20and%20how%20to%20use%20it%20reflects%20judgments%20about%20fairness%2C%20responsibility%2C%20and%20accountability.%20%22%0A%20%20%20%20%22As%20you%20evaluate%20these%20variables%2C%20you%20should%20consider%20not%20only%20what%20they%20predict%20but%20what%20it%20means%20to%20use%20them%20in%20practice%2C%20and%20whether%20that%20choice%20aligns%20with%20the%20broader%20goals%20of%20equity%20and%20trust%20in%20data-driven%20decision%20making.%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Learner%20Reflection%22)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3Cdiv%20style%3D'width%3A100%25%3B'%3E%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20label%3D%22Considering%20what%20you%20just%20read%2C%20please%20write%20a%20short%20paragraph%20on%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%22how%20you%20think%20a%20person%20in%20your%20hypothetical%20position%20should%20guide%20their%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%22actions%20during%20this%20process.%20There%20is%20no%20right%20or%20wrong%20answer%3B%20this%20is%20a%20place%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%22for%20you%20to%20lay%20out%20your%20expectations%20before%20interacting%20with%20the%20task%20at%20hand%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_init_refl_text()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_init_refl_text(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D12%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3C%2Fdiv%3E%22)%2C%0A%0A%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20anchor_task_2(mo)%3A%0A%20%20%20%20mo.Html('%3Cdiv%20id%3D%22task_2%22%3E%3C%2Fdiv%3E')%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20task_2(mo)%3A%0A%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Task%202%20%E2%80%93%20Protected-Attribute%20Gate%3A%20Fairness%20and%20Equity%20Check%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22**Note%20to%20the%20learner**%20%20%5Cn%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22This%20wave%20challenges%20you%20to%20balance%20fairness%2C%20inclusivity%2C%20and%20ethical%20use%20of%20sensitive%20personal%20attributes.%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22The%20decision%20set%20differs%20from%20Wave%201%3A%20some%20attributes%20are%20useful%20for%20post-hoc%20bias%20auditing%20but%20risky%20inside%20a%20predictive%20model.%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22You%20must%20decide%20how%20(or%20whether)%20to%20retain%20them.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22*For%20every%20variable%20choose%20**one**%20action%3A*%22)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3Aflex%3B%20justify-content%3Acenter%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctable%20style%3D%22border-collapse%3Aseparate%3B%20border-spacing%3A0%206px%3B%20text-align%3Acenter%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cthead%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3EStance%3C%2Fth%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3EMeaning%3C%2Fth%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fthead%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctbody%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%3Cb%3EInclude%20as-is%3C%2Fb%3E%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Feed%20directly%20into%20the%20predictive%20algorithm.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%3Cb%3EKeep%20for%20Bias-Audit%20Only%3C%2Fb%3E%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Store%20alongside%20model%20outputs%20to%20test%20for%20disparate%20impact%2C%20but%20do%20not%20let%20the%20algorithm%20see%20it%20during%20training.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%3Cb%3EExclude%20Entirely%3C%2Fb%3E%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Do%20not%20collect%20or%20use%20in%20any%20form.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftbody%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftable%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20race_status(mo)%3A%0A%20%20%20%20get_race_choice%2C%20set_race_choice%20%3D%20mo.state(None)%0A%0A%20%20%20%20race_inc_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Include%20as-is%22%2C%20kind%3D%22success%22%2C%20on_click%3Dlambda%20_%3A%20set_race_choice(%22include_as_is%22)%0A%20%20%20%20)%0A%20%20%20%20race_audit_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Keep%20for%20Bias-Audit%20Only%22%2C%20kind%3D%22warn%22%2C%20on_click%3Dlambda%20_%3A%20set_race_choice(%22audit_only%22)%0A%20%20%20%20)%0A%20%20%20%20race_exc_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Exclude%20Entirely%22%2C%20kind%3D%22danger%22%2C%20on_click%3Dlambda%20_%3A%20set_race_choice(%22exclude_entirely%22)%0A%20%20%20%20)%0A%0A%20%20%20%20race_content%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22Student%E2%80%99s%20self-reported%20racial%2Fethnic%20identity.%20Used%20during%20exploratory%20data%20analysis%20but%20removed%20before%20predictive%20modeling.%22)%2C%0A%20%20%20%20%20%20%20%20mo.hstack(%5Brace_inc_btn%2C%20race_audit_btn%2C%20race_exc_btn%5D%2C%20gap%3D%221rem%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20mo.accordion(%7B%22Race%22%3A%20race_content%7D)%0A%0A%20%20%20%20return%20(get_race_choice%2C)%0A%0A%0A%40app.cell%0Adef%20race_feedback(get_race_choice%2C%20mo)%3A%0A%20%20%20%20race_choice%20%3D%20get_race_choice()%0A%0A%20%20%20%20race_emoji_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include_as_is%22%3A%20%22%F0%9F%9F%A2%22%2C%0A%20%20%20%20%20%20%20%20%22audit_only%22%3A%20%22%F0%9F%9F%A0%22%2C%0A%20%20%20%20%20%20%20%20%22exclude_entirely%22%3A%20%22%F0%9F%94%B4%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%22%E2%9A%AA%EF%B8%8F%22%2C%0A%20%20%20%20%7D%0A%20%20%20%20race_text_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include_as_is%22%3A%20%22Include%20as-is%22%2C%0A%20%20%20%20%20%20%20%20%22audit_only%22%3A%20%22Keep%20for%20Bias-Audit%20Only%22%2C%0A%20%20%20%20%20%20%20%20%22exclude_entirely%22%3A%20%22Exclude%20Entirely%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%22no%20selection%22%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20mo.md(f%22You%20decided%20to%20%7Brace_emoji_map%5Brace_choice%5D%7D%20**%7Brace_text_map%5Brace_choice%5D%7D**%20the%20variable.%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20race_justification(get_race_choice%2C%20mo)%3A%0A%20%20%20%20race_selected_flag%20%3D%20get_race_choice()%0A%20%20%20%20get_text_just_race%2C%20set_text_just_race%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20content_just_race%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20briefly%20justify%20your%20reasoning%20for%20your%20Race%20choice%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_text_just_race()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_text_just_race(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D4%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20race_selected_flag%20is%20not%20None%0A%20%20%20%20%20%20%20%20else%20mo.md(%22%22)%0A%20%20%20%20)%0A%20%20%20%20content_just_race%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20gender_status(mo)%3A%0A%20%20%20%20get_gender_choice%2C%20set_gender_choice%20%3D%20mo.state(None)%0A%0A%20%20%20%20gender_inc_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Include%20as-is%22%2C%20kind%3D%22success%22%2C%20on_click%3Dlambda%20_%3A%20set_gender_choice(%22include_as_is%22)%0A%20%20%20%20)%0A%20%20%20%20gender_audit_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Keep%20for%20Bias-Audit%20Only%22%2C%20kind%3D%22warn%22%2C%20on_click%3Dlambda%20_%3A%20set_gender_choice(%22audit_only%22)%0A%20%20%20%20)%0A%20%20%20%20gender_exc_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Exclude%20Entirely%22%2C%20kind%3D%22danger%22%2C%20on_click%3Dlambda%20_%3A%20set_gender_choice(%22exclude_entirely%22)%0A%20%20%20%20)%0A%0A%20%20%20%20gender_content%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22Student%E2%80%99s%20gender%20identity%20as%20reported%20during%20application.%20Protected%20class%20variable%20that%20raises%20ethical%20considerations.%22)%2C%0A%20%20%20%20%20%20%20%20mo.hstack(%5Bgender_inc_btn%2C%20gender_audit_btn%2C%20gender_exc_btn%5D%2C%20gap%3D%221rem%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20mo.accordion(%7B%22Gender%22%3A%20gender_content%7D)%0A%0A%20%20%20%20return%20(get_gender_choice%2C)%0A%0A%0A%40app.cell%0Adef%20gender_feedback(get_gender_choice%2C%20mo)%3A%0A%20%20%20%20gender_choice%20%3D%20get_gender_choice()%0A%0A%20%20%20%20gender_emoji_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include_as_is%22%3A%20%22%F0%9F%9F%A2%22%2C%0A%20%20%20%20%20%20%20%20%22audit_only%22%3A%20%22%F0%9F%9F%A0%22%2C%0A%20%20%20%20%20%20%20%20%22exclude_entirely%22%3A%20%22%F0%9F%94%B4%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%22%E2%9A%AA%EF%B8%8F%22%2C%0A%20%20%20%20%7D%0A%20%20%20%20gender_text_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include_as_is%22%3A%20%22Include%20as-is%22%2C%0A%20%20%20%20%20%20%20%20%22audit_only%22%3A%20%22Keep%20for%20Bias-Audit%20Only%22%2C%0A%20%20%20%20%20%20%20%20%22exclude_entirely%22%3A%20%22Exclude%20Entirely%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%22no%20selection%22%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20mo.md(f%22You%20decided%20to%20%7Bgender_emoji_map%5Bgender_choice%5D%7D%20**%7Bgender_text_map%5Bgender_choice%5D%7D**%20the%20variable.%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20gender_justification(get_gender_choice%2C%20mo)%3A%0A%20%20%20%20gender_selected_flag%20%3D%20get_gender_choice()%0A%20%20%20%20get_text_just_gender%2C%20set_text_just_gender%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20content_just_gender%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20briefly%20justify%20your%20reasoning%20for%20your%20Gender%20choice%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_text_just_gender()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_text_just_gender(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D4%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20gender_selected_flag%20is%20not%20None%0A%20%20%20%20%20%20%20%20else%20mo.md(%22%22)%0A%20%20%20%20)%0A%20%20%20%20content_just_gender%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20age_status(mo)%3A%0A%20%20%20%20get_age_choice%2C%20set_age_choice%20%3D%20mo.state(None)%0A%0A%20%20%20%20age_inc_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Include%20as-is%22%2C%20kind%3D%22success%22%2C%20on_click%3Dlambda%20_%3A%20set_age_choice(%22include_as_is%22)%0A%20%20%20%20)%0A%20%20%20%20age_audit_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Keep%20for%20Bias-Audit%20Only%22%2C%20kind%3D%22warn%22%2C%20on_click%3Dlambda%20_%3A%20set_age_choice(%22audit_only%22)%0A%20%20%20%20)%0A%20%20%20%20age_exc_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Exclude%20Entirely%22%2C%20kind%3D%22danger%22%2C%20on_click%3Dlambda%20_%3A%20set_age_choice(%22exclude_entirely%22)%0A%20%20%20%20)%0A%0A%20%20%20%20age_content%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22Student%E2%80%99s%20age%20at%20enrollment.%20Flagged%20as%20protected%20class%20variable.%20Consider%20whether%20age-based%20predictions%20might%20disadvantage%20non-traditional%20students%20while%20recognizing%20that%20age%20can%20reflect%20meaningful%20differences%20in%20life%20circumstances.%22)%2C%0A%20%20%20%20%20%20%20%20mo.hstack(%5Bage_inc_btn%2C%20age_audit_btn%2C%20age_exc_btn%5D%2C%20gap%3D%221rem%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20mo.accordion(%7B%22Age%22%3A%20age_content%7D)%0A%0A%20%20%20%20return%20(get_age_choice%2C)%0A%0A%0A%40app.cell%0Adef%20age_feedback(get_age_choice%2C%20mo)%3A%0A%20%20%20%20age_choice%20%3D%20get_age_choice()%0A%0A%20%20%20%20age_emoji_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include_as_is%22%3A%20%22%F0%9F%9F%A2%22%2C%0A%20%20%20%20%20%20%20%20%22audit_only%22%3A%20%22%F0%9F%9F%A0%22%2C%0A%20%20%20%20%20%20%20%20%22exclude_entirely%22%3A%20%22%F0%9F%94%B4%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%22%E2%9A%AA%EF%B8%8F%22%2C%0A%20%20%20%20%7D%0A%20%20%20%20age_text_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include_as_is%22%3A%20%22Include%20as-is%22%2C%0A%20%20%20%20%20%20%20%20%22audit_only%22%3A%20%22Keep%20for%20Bias-Audit%20Only%22%2C%0A%20%20%20%20%20%20%20%20%22exclude_entirely%22%3A%20%22Exclude%20Entirely%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%22no%20selection%22%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20mo.md(f%22You%20decided%20to%20%7Bage_emoji_map%5Bage_choice%5D%7D%20**%7Bage_text_map%5Bage_choice%5D%7D**%20the%20variable.%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20age_justification(get_age_choice%2C%20mo)%3A%0A%20%20%20%20age_selected_flag%20%3D%20get_age_choice()%0A%20%20%20%20get_text_just_age%2C%20set_text_just_age%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20content_just_age%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20briefly%20justify%20your%20reasoning%20for%20your%20Age%20choice%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_text_just_age()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_text_just_age(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D4%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20age_selected_flag%20is%20not%20None%0A%20%20%20%20%20%20%20%20else%20mo.md(%22%22)%0A%20%20%20%20)%0A%20%20%20%20content_just_age%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pronouns_status(mo)%3A%0A%20%20%20%20get_pronouns_choice%2C%20set_pronouns_choice%20%3D%20mo.state(None)%0A%0A%20%20%20%20pronouns_inc_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Include%20as-is%22%2C%20kind%3D%22success%22%2C%20on_click%3Dlambda%20_%3A%20set_pronouns_choice(%22include_as_is%22)%0A%20%20%20%20)%0A%20%20%20%20pronouns_audit_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Keep%20for%20Bias-Audit%20Only%22%2C%20kind%3D%22warn%22%2C%20on_click%3Dlambda%20_%3A%20set_pronouns_choice(%22audit_only%22)%0A%20%20%20%20)%0A%20%20%20%20pronouns_exc_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Exclude%20Entirely%22%2C%20kind%3D%22danger%22%2C%20on_click%3Dlambda%20_%3A%20set_pronouns_choice(%22exclude_entirely%22)%0A%20%20%20%20)%0A%0A%20%20%20%20pronouns_content%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22Student-provided%20pronoun%20preference%20collected%20by%20campus%20climate%20office.%20Optional%20field%20with%20high%20missingness.%20Can%20affirm%20identity%20but%20is%20not%20a%20stable%20predictor%20of%20retention.%22)%2C%0A%20%20%20%20%20%20%20%20mo.hstack(%5Bpronouns_inc_btn%2C%20pronouns_audit_btn%2C%20pronouns_exc_btn%5D%2C%20gap%3D%221rem%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20mo.accordion(%7B%22Preferred%20Pronouns%22%3A%20pronouns_content%7D)%0A%0A%20%20%20%20return%20(get_pronouns_choice%2C)%0A%0A%0A%40app.cell%0Adef%20pronouns_feedback(get_pronouns_choice%2C%20mo)%3A%0A%20%20%20%20pronouns_choice%20%3D%20get_pronouns_choice()%0A%0A%20%20%20%20pronouns_emoji_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include_as_is%22%3A%20%22%F0%9F%9F%A2%22%2C%0A%20%20%20%20%20%20%20%20%22audit_only%22%3A%20%22%F0%9F%9F%A0%22%2C%0A%20%20%20%20%20%20%20%20%22exclude_entirely%22%3A%20%22%F0%9F%94%B4%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%22%E2%9A%AA%EF%B8%8F%22%2C%0A%20%20%20%20%7D%0A%20%20%20%20pronouns_text_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include_as_is%22%3A%20%22Include%20as-is%22%2C%0A%20%20%20%20%20%20%20%20%22audit_only%22%3A%20%22Keep%20for%20Bias-Audit%20Only%22%2C%0A%20%20%20%20%20%20%20%20%22exclude_entirely%22%3A%20%22Exclude%20Entirely%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%22no%20selection%22%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20mo.md(f%22You%20decided%20to%20%7Bpronouns_emoji_map%5Bpronouns_choice%5D%7D%20**%7Bpronouns_text_map%5Bpronouns_choice%5D%7D**%20the%20variable.%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pronouns_justification(get_pronouns_choice%2C%20mo)%3A%0A%20%20%20%20pronouns_selected_flag%20%3D%20get_pronouns_choice()%0A%20%20%20%20get_text_just_pronouns%2C%20set_text_just_pronouns%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20content_just_pronouns%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20briefly%20justify%20your%20reasoning%20for%20your%20Preferred%20Pronouns%20choice%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_text_just_pronouns()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_text_just_pronouns(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D4%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20pronouns_selected_flag%20is%20not%20None%0A%20%20%20%20%20%20%20%20else%20mo.md(%22%22)%0A%20%20%20%20)%0A%20%20%20%20content_just_pronouns%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20detailed_feedback_task2(%0A%20%20%20%20get_age_choice%2C%0A%20%20%20%20get_gender_choice%2C%0A%20%20%20%20get_pronouns_choice%2C%0A%20%20%20%20get_race_choice%2C%0A%20%20%20%20mo%2C%0A)%3A%0A%20%20%20%20%23%20-----%20Race%20message%0A%20%20%20%20race%20%3D%20get_race_choice()%0A%20%20%20%20if%20race%20%3D%3D%20%22include_as_is%22%3A%0A%20%20%20%20%20%20%20%20msg_race%20%3D%20%22Using%20Race%20as%20a%20predictive%20feature%20can%20embed%20historical%20inequities%20and%20violate%20institutional%20policy.%20Retain%20only%20for%20bias-audit.%22%0A%20%20%20%20elif%20race%20%3D%3D%20%22audit_only%22%3A%0A%20%20%20%20%20%20%20%20msg_race%20%3D%20%22Right%20call%22%0A%20%20%20%20elif%20race%20%3D%3D%20%22exclude_entirely%22%3A%0A%20%20%20%20%20%20%20%20msg_race%20%3D%20%22Without%20Race%20you%20lose%20the%20ability%20to%20audit%20fair%20outcomes%20across%20groups.%20Best%20practice%20is%20to%20keep%20it%20for%20auditing%20while%20excluding%20it%20from%20model%20training.%22%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20msg_race%20%3D%20%22%22%0A%0A%20%20%20%20%23%20-----%20Gender%20message%0A%20%20%20%20gender%20%3D%20get_gender_choice()%0A%20%20%20%20if%20gender%20%3D%3D%20%22include_as_is%22%3A%0A%20%20%20%20%20%20%20%20msg_gender%20%3D%20%22Directly%20modelling%20on%20Gender%20risks%20discriminatory%20interventions.%20Consider%20audit-only%20retention.%22%0A%20%20%20%20elif%20gender%20%3D%3D%20%22audit_only%22%3A%0A%20%20%20%20%20%20%20%20msg_gender%20%3D%20%22Right%20call%22%0A%20%20%20%20elif%20gender%20%3D%3D%20%22exclude_entirely%22%3A%0A%20%20%20%20%20%20%20%20msg_gender%20%3D%20%22Eliminating%20Gender%20data%20removes%20a%20key%20lens%20for%20detecting%20gender-based%20disparities%20as-is%20outputs.%22%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20msg_gender%20%3D%20%22%22%0A%0A%20%20%20%20%23%20-----%20Age%20message%0A%20%20%20%20age%20%3D%20get_age_choice()%0A%20%20%20%20if%20age%20%3D%3D%20%22include_as_is%22%3A%0A%20%20%20%20%20%20%20%20msg_age%20%3D%20%22Age%20may%20correlate%20with%20persistence%20but%20also%20with%20protected%20status%20(non-traditional%20learners).%20Document%20equity%20safeguards%20or%20shift%20to%20audit-only%20use.%22%0A%20%20%20%20elif%20age%20%3D%3D%20%22audit_only%22%3A%0A%20%20%20%20%20%20%20%20msg_age%20%3D%20%22Right%20call%22%0A%20%20%20%20elif%20age%20%3D%3D%20%22exclude_entirely%22%3A%0A%20%20%20%20%20%20%20%20msg_age%20%3D%20%22Excluding%20Age%20erases%20patterns%20relevant%20to%20adult%20learners%20and%20hampers%20fairness%20checks.%20Audit-only%20use%20is%20often%20a%20balanced%20choice.%22%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20msg_age%20%3D%20%22%22%0A%0A%20%20%20%20%23%20-----%20Pronouns%20message%0A%20%20%20%20pronouns%20%3D%20get_pronouns_choice()%0A%20%20%20%20if%20pronouns%20%3D%3D%20%22include_as_is%22%3A%0A%20%20%20%20%20%20%20%20msg_pronouns%20%3D%20%22Preferred%20Pronouns%20are%20not%20predictive%20of%20persistence%20and%20risk%20trivializing%20gender%20identity.%20Exclude%20or%20store%20only%20for%20awareness%20training%2C%20not%20analytics.%22%0A%20%20%20%20elif%20pronouns%20%3D%3D%20%22audit_only%22%3A%0A%20%20%20%20%20%20%20%20msg_pronouns%20%3D%20%22Pronoun%20data%20lack%20completeness%20and%20standardization%2C%20limiting%20audit%20utility.%20Exclusion%20is%20usually%20appropriate.%22%0A%20%20%20%20elif%20pronouns%20%3D%3D%20%22exclude_entirely%22%3A%0A%20%20%20%20%20%20%20%20msg_pronouns%20%3D%20%22Right%20call%22%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20msg_pronouns%20%3D%20%22%22%0A%0A%20%20%20%20content_detail_feedback2%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(f%22**Race%3A**%20%7Bmsg_race%7D%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(f%22**Gender%3A**%20%7Bmsg_gender%7D%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(f%22**Age%3A**%20%7Bmsg_age%7D%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(f%22**Preferred%20Pronouns%3A**%20%7Bmsg_pronouns%7D%22)%2C%0A%20%20%20%20%5D)%0A%0A%20%20%20%20mo.accordion(%7B%22Detailed%20Feedback%20%E2%80%93%20Task%202%22%3A%20content_detail_feedback2%7D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20wrapup_intro(mo)%3A%0A%20%20%20%20submit_state%2C%20set_submit_state%20%3D%20mo.state(False)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20wrapup_summary_table(%0A%20%20%20%20get_age_choice%2C%0A%20%20%20%20get_gender_choice%2C%0A%20%20%20%20get_pronouns_choice%2C%0A%20%20%20%20get_race_choice%2C%0A%20%20%20%20mo%2C%0A)%3A%0A%20%20%20%20def%20decision_label(choice)%3A%0A%20%20%20%20%20%20%20%20if%20choice%20in%20%5B%22include%22%2C%20%22include_as_is%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Include%22%0A%20%20%20%20%20%20%20%20elif%20choice%20in%20%5B%22audit_only%22%2C%20%22flag%22%2C%20%22flag_improvement%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Flag%22%0A%20%20%20%20%20%20%20%20elif%20choice%20in%20%5B%22exclude%22%2C%20%22exclude_entirely%22%2C%20%22exclude_unreliable%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Exclude%22%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22No%20Selection%22%0A%0A%20%20%20%20grouped_rows%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22Protected-Attribute%20Gate%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20(decision_label(get_race_choice())%2C%20%22Race%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(decision_label(get_gender_choice())%2C%20%22Gender%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(decision_label(get_age_choice())%2C%20%22Age%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(decision_label(get_pronouns_choice())%2C%20%22Preferred%20Pronouns%22)%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20w2_count%20%3D%20sum(%0A%20%20%20%20%20%20%20%201%20for%20_%2C%20rows%20in%20grouped_rows.items()%0A%20%20%20%20%20%20%20%20for%20(decision%2C%20_)%20in%20rows%0A%20%20%20%20%20%20%20%20if%20decision%20%3D%3D%20%22Include%22%0A%20%20%20%20)%0A%0A%20%20%20%20table_html%20%3D%20%22%3Ctable%20style%3D'border-collapse%3Acollapse%3B%20width%3A100%25%3B%20text-align%3Aleft%3B'%3E%22%0A%20%20%20%20table_html%20%2B%3D%20%22%3Cthead%3E%3Ctr%3E%3Cth%3EGroup%20(Wave)%3C%2Fth%3E%3Cth%3EDecision%3C%2Fth%3E%3Cth%3EVariable%3C%2Fth%3E%3C%2Ftr%3E%3C%2Fthead%3E%3Ctbody%3E%22%0A%0A%20%20%20%20for%20group%2C%20rows%20in%20grouped_rows.items()%3A%0A%20%20%20%20%20%20%20%20table_html%20%2B%3D%20f%22%3Ctr%3E%3Ctd%20colspan%3D'3'%20style%3D'font-weight%3Abold%3B%20padding-top%3A10px%3B'%3E%7Bgroup%7D%3C%2Ftd%3E%3C%2Ftr%3E%22%0A%20%20%20%20%20%20%20%20for%20decision%2C%20variable%20in%20rows%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20color%20%3D%20%22%20style%3D'background-color%3A%23e8f5e9%3B'%22%20if%20decision%20%3D%3D%20%22Include%22%20else%20%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20table_html%20%2B%3D%20f%22%3Ctr%7Bcolor%7D%3E%3Ctd%3E%3C%2Ftd%3E%3Ctd%3E%7Bdecision%7D%3C%2Ftd%3E%3Ctd%3E%7Bvariable%7D%3C%2Ftd%3E%3C%2Ftr%3E%22%0A%20%20%20%20%20%20%20%20table_html%20%2B%3D%20%22%3Ctr%3E%3Ctd%20colspan%3D'3'%20style%3D'height%3A8px%3B'%3E%3C%2Ftd%3E%3C%2Ftr%3E%22%0A%0A%20%20%20%20table_html%20%2B%3D%20%22%3C%2Ftbody%3E%3C%2Ftable%3E%22%0A%0A%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%20End-of-Scenario%20Wrap-Up%20%E2%80%93%20Variable-Selection%20Brief%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22**_Your%20model%20will%20use%20the%20%7Bw2_count%7D%20variables%20highlighted%20in%20green._**%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Is%20this%20acceptable%2C%20or%20would%20you%20like%20to%20revise%20your%20selections%3F%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.Html(table_html)%0A%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20wrapup_buttons(mo)%3A%0A%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.Html(%22%22%22%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3Aflex%3B%20justify-content%3Acenter%3B%20gap%3A1rem%3B%20margin-bottom%3A1rem%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ca%20href%3D%22%23task_2%22%20style%3D%22padding%3A6px%2012px%3B%20background%3A%23eee%3B%20border-radius%3A6px%3B%20text-decoration%3Anone%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Review%20Wave%202%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fa%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%22%22%22)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%22%22%0A%20%20%20%20%20%20%20%20%3Chr%20style%3D%22border%3A%203px%20solid%20%234CAF50%3B%20margin-top%3A1rem%3B%20margin-bottom%3A1rem%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22text-align%3Acenter%3B%20color%3A%234CAF50%3B%20font-size%3A1.5rem%3B%20font-weight%3Abold%3B%20margin-bottom%3A1rem%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Final%20Feedback%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%22%22%22)%0A%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20wrapup_feedback_protected(%0A%20%20%20%20get_age_choice%2C%0A%20%20%20%20get_gender_choice%2C%0A%20%20%20%20get_pronouns_choice%2C%0A%20%20%20%20get_race_choice%2C%0A%20%20%20%20mo%2C%0A)%3A%0A%20%20%20%20def%20feedback_text_protected(var_protected%2C%20choice_protected)%3A%0A%20%20%20%20%20%20%20%20if%20var_protected%20%3D%3D%20%22Race%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20choice_protected%20%3D%3D%20%22include_as_is%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Using%20Race%20as%20a%20predictive%20feature%20can%20embed%20historical%20inequities%20and%20violate%20institutional%20policy.%20Retain%20only%20for%20bias-audit.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20choice_protected%20%3D%3D%20%22exclude_entirely%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Without%20Race%20you%20lose%20the%20ability%20to%20audit%20fair%20outcomes%20across%20groups.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20choice_protected%20%3D%3D%20%22audit_only%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Right%20call%22%0A%20%20%20%20%20%20%20%20elif%20var_protected%20%3D%3D%20%22Gender%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20choice_protected%20%3D%3D%20%22include_as_is%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Directly%20modelling%20on%20Gender%20risks%20discriminatory%20interventions.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20choice_protected%20%3D%3D%20%22exclude_entirely%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Eliminating%20Gender%20data%20removes%20a%20key%20lens%20for%20detecting%20disparities.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20choice_protected%20%3D%3D%20%22audit_only%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Right%20call%22%0A%20%20%20%20%20%20%20%20elif%20var_protected%20%3D%3D%20%22Age%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20choice_protected%20%3D%3D%20%22include_as_is%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Age%20may%20correlate%20with%20persistence%20but%20also%20with%20protected%20status.%20Audit-only%20is%20safer.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20choice_protected%20%3D%3D%20%22exclude_entirely%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Excluding%20Age%20erases%20patterns%20relevant%20to%20adult%20learners.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20choice_protected%20%3D%3D%20%22audit_only%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Right%20call%22%0A%20%20%20%20%20%20%20%20elif%20var_protected%20%3D%3D%20%22Preferred%20Pronouns%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20choice_protected%20%3D%3D%20%22include_as_is%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Preferred%20Pronouns%20are%20not%20predictive%20of%20persistence%20and%20risk%20trivializing%20identity.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20choice_protected%20%3D%3D%20%22exclude_entirely%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Right%20call%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20choice_protected%20%3D%3D%20%22audit_only%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Pronoun%20data%20lack%20completeness%20and%20standardization%3B%20exclusion%20is%20often%20appropriate.%22%0A%0A%20%20%20%20vars_choices%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22Race%22%3A%20get_race_choice()%2C%0A%20%20%20%20%20%20%20%20%22Gender%22%3A%20get_gender_choice()%2C%0A%20%20%20%20%20%20%20%20%22Age%22%3A%20get_age_choice()%2C%0A%20%20%20%20%20%20%20%20%22Preferred%20Pronouns%22%3A%20get_pronouns_choice()%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20wrong_lines%2C%20correct_vars%2C%20alert_flag%20%3D%20%5B%5D%2C%20%5B%5D%2C%20False%0A%0A%20%20%20%20for%20var%2C%20choice%20in%20vars_choices.items()%3A%0A%20%20%20%20%20%20%20%20txt%20%3D%20feedback_text_protected(var%2C%20choice)%0A%20%20%20%20%20%20%20%20if%20txt%20and%20%22Right%20call%22%20not%20in%20txt%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20alert_flag%20%3D%20True%0A%20%20%20%20%20%20%20%20%20%20%20%20wrong_lines.append(mo.md(f%22**%7Bvar%7D%3A**%20%7Btxt%7D%22))%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20correct_vars.append(var)%0A%0A%20%20%20%20wave_alert%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.md(%22%E2%9A%A0%EF%B8%8F%20**At%20least%20one%20restricted%20variable%20still%20needs%20your%20attention.**%22)%0A%20%20%20%20%20%20%20%20if%20alert_flag%20else%0A%20%20%20%20%20%20%20%20mo.md(%22%E2%9C%85%20**Everything%20looks%20good%20in%20this%20wave!**%22)%0A%20%20%20%20)%0A%0A%20%20%20%20correct_line%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.md(f%22%E2%9C%85%20**No%20major%20concerns%20for%3A**%20%7B'%2C%20'.join(correct_vars)%7D%22)%0A%20%20%20%20%20%20%20%20if%20correct_vars%20else%20mo.md(%22%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.accordion(%7B%22Protected-Attribute%20Gate%20Feedback%22%3A%20mo.vstack(%5Bwave_alert%5D%20%2B%20wrong_lines%20%2B%20%5Bcorrect_line%5D)%7D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20task_f(mo)%3A%0A%20%20%20%20get_prod_text%2C%20set_prod_text%20%3D%20mo.state(%22%22)%0A%20%20%20%20get_refl_text%2C%20set_refl_text%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Placeholder%20for%20Product%22)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3Cdiv%20style%3D'width%3A100%25%3B'%3E%22)%2C%20%20%23%20force%20full-width%20container%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Enter%20your%20product%20notes%20here%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_prod_text()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_prod_text(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D8%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3C%2Fdiv%3E%22)%2C%0A%0A%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Placeholder%20for%20Learner%20Reflection%22)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3Cdiv%20style%3D'width%3A100%25%3B'%3E%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20write%20your%20reflection%20here%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_refl_text()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_refl_text(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D12%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3C%2Fdiv%3E%22)%2C%0A%0A%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">1681d0f68c4334772f946c3a7bf0526471a5e0e4f775b26a5ac04ec23e6fa609</marimo-code-hash>
</body>
</html>
