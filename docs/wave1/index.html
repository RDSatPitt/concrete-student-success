<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        var scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          var element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          var hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          var newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((entries) => {
          setHeight();
        });
        resizeObserver.observe(obj.contentWindow.document.body);
      }
    </script>
    <marimo-filename hidden>Wave1.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>Wave1</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/index-D4bXoNM3.js"></script>
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.15.0/dist/assets/index-CrH6PPjG.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "Wave1.py",
            "mode": "read",
            "version": "0.15.0",
            "serverToken": "static",
            "config": {"ai": {"models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false}, "display": {"cell_output": "above", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": false, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": true}}, "package_management": {"manager": "pip"}, "runtime": {"auto_instantiate": true, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "medium"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo                           \nmo.md(\n    \"# Variable selection scenario - Task 1\\n\"\n\n)", "code_hash": "bb94a845d155a30fe94bc3f8d0bb6e62", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hbol", "name": "_"}, {"code": "mo.vstack(\n    [\n        # 1) subtitle\n        mo.md(\"## The story so far\"),\n\n        # 2) \u201cNote to the team\u201d\n        mo.md(\n            \"The university is a large research institution that competes for students in a crowded \" \\\n            \"higher-education market. Over the past five years the first-to-second-year retention rate has \" \\\n            \"drifted downward, and graduation timelines have lengthened. Senior leadership has asked the Office of \" \\\n            \"the Provost to treat student persistence as a strategic priority rather than a routine metric. \" \\\n            \"An internal mandate now calls for data-informed, proactive outreach so that support staff can offer \" \\\n            \"help long before a student considers leaving. Within the Office of the Provost a small Student Success Analytics \" \\\n            \"group has been established. This team combines institutional researchers, academic advisors, compliance officers, \"\n            \"and data engineers. Its first assignment is to create an early warning intelligence tool that flags continuing \" \\\n            \"undergraduates who appear at risk of stopping out or falling behind schedule. Advisors will then contact those \" \\\n            \"students and connect them with tutoring, financial counseling, or mentoring. The analytics group is expected to \" \\\n            \"respect privacy regulations such as FERPA and recent federal guidance that limits the use of individual financial-aid \" \\\n            \"records in automated decision systems. It is also expected to uphold the university commitment to equity and transparency in \" \\\n            \"every technical choice.\"\n        ),\n\n\n        mo.md(\"&nbsp;\"),\n\n        mo.md(\"## Role\"),\n\n        # 2) \u201cNote to the team\u201d\n        mo.md(\n            \"You serve as the team\u2019s data science specialist. Your immediate task is not to build a model but to decide which \" \\\n            \"pieces of information should be fed into one. Working with colleagues you have assembled a data dictionary drawn \" \\\n            \"from the university warehouse. The dictionary lists common attributes such as high school grade point averages, \" \\\n            \"standardized test scores, race, gender, residency status, and course loads. It also contains financial indicators \" \\\n            \"like Pell eligibility and Expected Family Contribution. Several context-specific items are included as well.\"\\\n            \"Examples are whether a student applied to a regional campus after a main-campus denial, whether a student is a varsity athlete,\"\\\n            \"and the distance between the student\u2019s home address and campus. No raw records are available at this stage of the project;\"\\\n            \"only the variable descriptions, their known limitations, and any red-flag notes provided by legal or ethical reviewers.\"\n        ),\n\n\n        mo.md(\"&nbsp;\"),\n\n\n        mo.md(\"## Business Objective & Product\"),\n\n        # 2) \u201cNote to the team\u201d\n        mo.md(\n            \"Academic advisors need a concise, defensible list of candidate predictors that can drive a predictive model without violating \" \\\n            \"regulations or undermining equitable treatment. Your deliverable for this scenario is a Variable Selection Brief. \" \\\n            \"In one page you will designate each variable as included, excluded, or flagged for additional discussion. \" \\\n            \"For every decision you will provide a short rationale that links back to the goals of privacy protection, fairness, and practical usefulness. \" \\\n            \"Advisors and compliance staff will review and sign this brief before any modelling work proceeds.\"\n        ),\n\n\n        mo.md(\"&nbsp;\"),\n        ]\n)", "code_hash": "051c1840f00955ddaaded3ace4f61e37", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "MJUe", "name": "task_1"}, {"code": "get_init_refl_text, set_init_refl_text = mo.state(\"\")\n\nmo.vstack([\n    mo.md(\"##Lecture material\"),\n    mo.md(\n\"When people first enter the field of data science, they often think primarily about technical skills: coding, statistics, and modeling. \"\n\"These skills are necessary, but they are not sufficient. A responsible data scientist also needs to be aware of the environment in which data is collected and used. \"\n\"That environment is shaped not only by ethical considerations, but also by laws, regulations, and institutional policies. In many cases, these rules are not suggestions or guidelines. \"\n\"They are mandatory requirements that determine which data may or may not be used in analytic models. Ignoring them can expose an institution to legal liability, loss of funding, and reputational damage, and it can expose individuals to professional consequences.\\n\\n\"\n\"The purpose of a regulatory gate is to remind practitioners that compliance is a foundational part of their role. Before asking whether a variable is predictive, fair, or reliable, the first question must be: *is this variable even allowed?* \"\n\"Responsible practice requires making compliance checks the starting point of data work, not an afterthought. This habit prevents the costly and harmful situation in which a technically polished model is later discovered to rely on information that never should have been touched in the first place.\\n\\n\"\n\"In higher education, financial aid data is one of the clearest examples of this. Several measures related to student financial aid are explicitly restricted by federal law or by Department of Education policy. \"\n\"To see this in action, consider three variables you will encounter in this task. Pell Grants are federal grants designed to help low-income students access higher education. \"\n\"Whether or not a student receives a Pell Grant is therefore a direct marker of socioeconomic status. Because of its sensitivity, federal guidance prohibits the use of individual-level Pell status as a predictor in models. \"\n\"Another important measure is the Expected Family Contribution, or EFC. This was the long-standing formula used to determine how much a family could reasonably contribute toward the cost of attendance. \"\n\"Under updated federal rules, EFC is explicitly barred from modeling use. Its replacement, the Student Aid Index, or SAI, was introduced to modernize the calculation of aid eligibility. \"\n\"Yet even though it is newer, it remains sensitive financial-aid data, incomplete in its coverage, and unsuitable for individual-level predictive modeling. \"\n\"In short, these variables are \u201cred lines\u201d in the data science of education: they cannot be included in the models you design, regardless of their predictive value.\\n\\n\"\n\"Other related variables highlight the complexity of this issue. For example, \u201cUnmet Need\u201d is a derived measure that combines several restricted inputs, and so it inherits their problems. \"\n\"Using it would not only amplify socioeconomic bias but also contravene the same rules that restrict its underlying components. \"\n\"Merit awards, by contrast, are not outright banned, but they can function as proxies for income and privilege, raising significant concerns about fairness and equity. \"\n\"Even though not formally prohibited, they should be treated with extreme caution. Finally, Pell Plus, a programmatic marker tied directly to Pell eligibility, is similarly off-limits for predictive modeling because it signals the same restricted information.\\n\\n\"\n\"The broader lesson here is that responsible data science requires a constant awareness of regulation. Rules about what may or may not be used vary across sectors. \"\n\"In health care, certain medical and genetic information is tightly restricted. In employment, using age or disability status in predictive models can constitute illegal discrimination. \"\n\"In criminal justice, courts and agencies place limits on the inclusion of demographic data in risk assessments. What these examples have in common is the principle that a technically sound model is not necessarily a legitimate one. \"\n\"Legitimacy requires compliance with external standards.\\n\\n\"\n\"As a learner in this wave, your task is not to balance competing values or to weigh predictive benefit against ethical risk, as in later waves. \"\n\"Instead, your job is to show that you recognize the bright lines set by law and policy. There is a right and a wrong answer here, because some variables are explicitly prohibited. \"\n\"The responsible path is to exclude them or flag them for compliance review, rather than to rationalize their inclusion. \"\n\"By demonstrating this awareness, you are showing that you understand your dual role: not only as a data scientist searching for patterns, but also as a steward of institutional trust and legal responsibility.\\n\\n\"\n\"The takeaway is clear: predictive modeling in education, or in any sensitive domain, cannot be separated from compliance. \"\n\"Responsible practice requires building the habit of asking \u201cam I allowed to use this?\u201d before asking \u201cdoes it predict well?\u201d \"\n\"By internalizing this discipline, you reduce risks for yourself and for your institution, and you strengthen the credibility of the models you help to build.\"),\n    mo.md(\"&nbsp;\"),\n\n    mo.md(\"##Learner Reflection\"),\n    mo.Html(\"<div style='width:100%;'>\"),\n    mo.ui.text_area(\nlabel=\"Considering what you just read, please write a short paragraph on \" \\\n      \"how you think a person in your hypothetical position should guide their \" \\\n      \"actions during this process. There is no right or wrong answer; this is a place \" \\\n      \"for you to lay out your expectations before interacting with the task at hand\",\n        value=get_init_refl_text(),\n        on_change=lambda v: set_init_refl_text(v),\n        rows=12,\n    ),\n    mo.Html(\"</div>\"),\n\n    mo.md(\"&nbsp;\"),\n])", "code_hash": "de899bf9d71178ec07a386f3489294cd", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vblA", "name": "task_f"}, {"code": "mo.vstack([\n        # 1) instructions for the table\n    mo.md(\"## Task 1 Regulatory Gate\"),\n    mo.md(\"*For each variable choose **one** action:*\"),\n\n        # 2) centralized table\n    mo.Html(\n            \"\"\"\n            <div style=\"display:flex; justify-content:center;\">\n              <table style=\"border-collapse:separate; border-spacing:0 6px; text-align:center;\">\n                <thead>\n                  <tr>\n                    <th style=\"padding:0.5rem 1.5rem;\">Action</th>\n                    <th style=\"padding:0.5rem 1.5rem;\">Meaning</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td style=\"padding:0.5rem 1.5rem;\"><b>Include</b></td>\n                    <td style=\"padding:0.5rem 1.5rem;\">\n                      Use this variable in the predictive model.\n                    </td>\n                  </tr>\n                  <tr>\n                    <td style=\"padding:0.5rem 1.5rem;\"><b>Exclude</b></td>\n                    <td style=\"padding:0.5rem 1.5rem;\">\n                      Remove it from consideration.\n                    </td>\n                  </tr>\n                  <tr>\n                    <td style=\"padding:0.5rem 1.5rem;\"><b>Flag for Legal / IRB Review</b></td>\n                    <td style=\"padding:0.5rem 1.5rem;\">\n                      Put the variable on hold until university counsel (or the IRB) provides guidance. \n                      Flag the variable only if you believe it requires review by university counsel (or the IRB) before use. \n                      Reserve this option for cases where you have a specific, well-founded concern, not as a default choice..\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            \"\"\"\n        ),\n    ])", "code_hash": "6a5b52a1b382f674d3e0798ca39087e5", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bkHC", "name": "task_11"}, {"code": "mo.Html('<div id=\"task_1\"></div>')", "code_hash": "290480cc8ae377aab817a148d01a7b3f", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lEQa", "name": "anchor_task_1"}, {"code": "\n# 1 reactive state for this variable\nget_choice, set_choice = mo.state(None)\n\n# 2 flag buttons\ninclude_btn = mo.ui.button(\n    label=\"Include\", kind=\"success\", on_click=lambda _: set_choice(\"include\")\n)\nexclude_btn = mo.ui.button(\n    label=\"Exclude\", kind=\"danger\",  on_click=lambda _: set_choice(\"exclude\")\n)\nflag_btn = mo.ui.button(\n    label=\"Flag for Review\", kind=\"warn\", on_click=lambda _: set_choice(\"flag\")\n)\n\n# 3 put buttons in an accordion \ncontent = mo.vstack([\n    mo.md(\n        \"Whether a student receives a federal Pell Grant. \"\n        \"New regulations restrict use of financial-aid data in predictive modeling.\"\n    ),\n    mo.hstack([include_btn, exclude_btn, flag_btn], gap=\"1rem\"),\n])\nmo.accordion({\"Pell Status\": content})\n\n# 4 return the getter so other cells can react to it", "code_hash": "b17524e196e2c6e374998bab00149bc8", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "PKri", "name": "pell_status"}, {"code": "\n# 1 read the current flag\nchoice = get_choice()\n\n# 2 maps for emoji and label\nemoji_map = {\n    \"include\": \"\ud83d\udfe2\",\n    \"exclude\": \"\ud83d\udd34\",\n    \"flag\":    \"\ud83d\udfe1\",\n    None:      \"\u26aa\ufe0f\",\n}\ntext_map = {\n    \"include\": \"Include\",\n    \"exclude\": \"Exclude\",\n    \"flag\":    \"Flag for Review\",\n    None:      \"no selection\",\n}\n\n# 3 wrap in mo.md so this cell re-runs whenever choice changes\nmo.md(f\"You decided to {emoji_map[choice]} **{text_map[choice]}** the variable.\")", "code_hash": "1fe71fb19948cb1ceb84c86dff19e242", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "pell_feedback"}, {"code": "# 1 read current Pell selection\npell_text_choice = get_choice()\n\n# 2 state holder for the justification text\nget_text_just_pell, set_text_just_pell = mo.state(\"\")\n\n# 3 show textarea only after user picks Include / Exclude / Flag\ncontent_just_pell = (\n    mo.ui.text_area(\n        label=\"Please briefly justify your reasoning for your Pell Status choice\",\n        value=get_text_just_pell(),\n        on_change=lambda v: set_text_just_pell(v),\n        rows=4,\n    )\n    if pell_text_choice is not None\n    else mo.md(\"\")          \n)\n\ncontent_just_pell", "code_hash": "e4fa47bd8f02d647e62752c838fc6840", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SFPL", "name": "pell_justification"}, {"code": "\n# 1 reactive state for this variable\nget_efc_choice, set_efc_choice = mo.state(None)\n\n# 2 flag buttons\nefc_include_btn = mo.ui.button(\n    label=\"Include\", kind=\"success\", on_click=lambda _: set_efc_choice(\"include\")\n)\nefc_exclude_btn = mo.ui.button(\n    label=\"Exclude\", kind=\"danger\",  on_click=lambda _: set_efc_choice(\"exclude\")\n)\nefc_flag_btn = mo.ui.button(\n    label=\"Flag for Review\", kind=\"warn\", on_click=lambda _: set_efc_choice(\"flag\")\n)\n\n# 3 put buttons in an accordion (or any layout you like)\nefc_content = mo.vstack([\n    mo.md(\n        \"Amount a family is expected to contribute to education costs \"\n        \"(legacy FAFSA metric). Regulatory compliance requires excluding \"\n        \"this sensitive financial information.\"\n    ),\n    mo.hstack([efc_include_btn, efc_exclude_btn, efc_flag_btn], gap=\"1rem\"),\n])\nmo.accordion({\"Expected Family Contribution (EFC)\": efc_content})\n\n# 4 return the getter so other cells can react to it", "code_hash": "576466fe78008970ad3ef1f665d6e54d", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "BYtC", "name": "efc_status"}, {"code": "\n# 1 read the current flag\nefc_choice = get_efc_choice()\n\n# 2 maps for emoji and label\nefc_emoji_map = {\n    \"include\": \"\ud83d\udfe2\",\n    \"exclude\": \"\ud83d\udd34\",\n    \"flag\":    \"\ud83d\udfe1\",\n    None:      \"\u26aa\ufe0f\",\n}\nefc_text_map = {\n    \"include\": \"Include\",\n    \"exclude\": \"Exclude\",\n    \"flag\":    \"Flag for Review\",\n    None:      \"no selection\",\n}\n\n# 3 wrap in mo.md so this cell re-runs whenever choice changes\nmo.md(f\"You decided to {efc_emoji_map[efc_choice]} **{efc_text_map[efc_choice]}** the variable.\")", "code_hash": "4554b1a2bb36081bbab239aa1b9f3c69", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "RGSE", "name": "efc_feedback"}, {"code": "# 1 read current EFC selection\nefc_text_choice = get_efc_choice()\n\n# 2 state holder for the justification text\nget_text_just_efc, set_text_just_efc = mo.state(\"\")\n\n# 3 show textarea only after user picks Include / Exclude / Flag\ncontent_just_efc = (\n    mo.ui.text_area(\n        label=\"Please briefly justify your reasoning for your EFC choice\",\n        value=get_text_just_efc(),\n        on_change=lambda v: set_text_just_efc(v),\n        rows=4,\n    )\n    if efc_text_choice is not None\n    else mo.md(\"\")          \n)\n\ncontent_just_efc", "code_hash": "4ea0881922ef1357f91a04b55405ad0d", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Kclp", "name": "efc_justification"}, {"code": "# 1) reactive state for SAI\nget_sai_choice, set_sai_choice = mo.state(None)\n\n# 2) flag buttons (all kwargs)\nsai_inc_btn  = mo.ui.button(\n    label=\"Include\",\n    kind=\"success\",\n    on_click=lambda _: set_sai_choice(\"include\"),\n)\nsai_exc_btn  = mo.ui.button(\n    label=\"Exclude\",\n    kind=\"danger\",\n    on_click=lambda _: set_sai_choice(\"exclude\"),\n)\nsai_flag_btn = mo.ui.button(\n    label=\"Flag for Review\",\n    kind=\"warn\",\n    on_click=lambda _: set_sai_choice(\"flag\"),\n)\n\n# 3) accordion content\nsai_content = mo.vstack([\n    mo.md(\n        \"A new metric from recent FAFSA changes that replaced EFC. \"\n        \"Recent implementation means this data may not be available for all \"\n        \"students in your historical dataset.\"\n    ),\n    mo.hstack([sai_inc_btn, sai_exc_btn, sai_flag_btn], gap=\"1rem\"),\n])\nmo.accordion({\"Student Aid Index (SAI)\": sai_content})\n\n# 4) expose getter", "code_hash": "f19ac47d1bb920485bdf8d93efb2480b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "emfo", "name": "sai_status"}, {"code": "# current flag\nsai_choice = get_sai_choice()\n\n# emoji / text maps\nsai_emoji_map = {\n    \"include\": \"\ud83d\udfe2\",\n    \"exclude\": \"\ud83d\udd34\",\n    \"flag\":    \"\ud83d\udfe1\",\n    None:      \"\u26aa\ufe0f\",\n}\nsai_text_map = {\n    \"include\": \"Include\",\n    \"exclude\": \"Exclude\",\n    \"flag\":    \"Flag for Review\",\n    None:      \"no selection\",\n}\n\n# show live feedback line\nmo.md(\n    f\"You decided to {sai_emoji_map[sai_choice]} \"\n    f\"**{sai_text_map[sai_choice]}** the variable.\"\n)", "code_hash": "e17d1c687d0536510a7cf4074e71061d", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hstk", "name": "sai_feedback"}, {"code": "# read current SAI selection (unique local name)\nsai_selected_flag = get_sai_choice()\n\n# state holder for SAI justification text\nget_text_just_sai, set_text_just_sai = mo.state(\"\")\n\n# show textarea only after a flag is chosen\ncontent_just_sai = (\n    mo.ui.text_area(\n        label=\"Please briefly justify your reasoning for your SAI choice\",\n        value=get_text_just_sai(),\n        on_change=lambda v: set_text_just_sai(v),\n        rows=4,\n    )\n    if sai_selected_flag is not None\n    else mo.md(\"\")          # nothing yet\n)\n\ncontent_just_sai", "code_hash": "ed9682b0c47fb5099efd2292bc98821a", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nWHF", "name": "sai_justification"}, {"code": "# reactive state for Unmet Need\nget_unmet_choice, set_unmet_choice = mo.state(None)\n\n# buttons (all kwargs)\nunmet_inc_btn  = mo.ui.button(\n    label=\"Include\",\n    kind=\"success\",\n    on_click=lambda _: set_unmet_choice(\"include\"),\n)\nunmet_exc_btn  = mo.ui.button(\n    label=\"Exclude\",\n    kind=\"danger\",\n    on_click=lambda _: set_unmet_choice(\"exclude\"),\n)\nunmet_flag_btn = mo.ui.button(\n    label=\"Flag for Review\",\n    kind=\"warn\",\n    on_click=lambda _: set_unmet_choice(\"flag\"),\n)\n\n# accordion content\nunmet_content = mo.vstack([\n    mo.md(\n        \"Gap between the cost of attendance and the student\u2019s available resources. \"\n        \"Financial-stress indicator, but regulatory restrictions likely prohibit \"\n        \"its use in individual-level models.\"\n    ),\n    mo.hstack([unmet_inc_btn, unmet_exc_btn, unmet_flag_btn], gap=\"1rem\"),\n])\nmo.accordion({\"Unmet Need\": unmet_content})\n\n# expose getter", "code_hash": "151e6d8a42115cb1e426444bc3474782", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "iLit", "name": "unmet_status"}, {"code": "unmet_choice = get_unmet_choice()\n\nunmet_emoji_map = {\n    \"include\": \"\ud83d\udfe2\",\n    \"exclude\": \"\ud83d\udd34\",\n    \"flag\":    \"\ud83d\udfe1\",\n    None:      \"\u26aa\ufe0f\",\n}\nunmet_text_map = {\n    \"include\": \"Include\",\n    \"exclude\": \"Exclude\",\n    \"flag\":    \"Flag for Review\",\n    None:      \"no selection\",\n}\n\nmo.md(\n    f\"You decided to {unmet_emoji_map[unmet_choice]} \"\n    f\"**{unmet_text_map[unmet_choice]}** the variable.\"\n)", "code_hash": "9a7af95a2968efd71f6818a90760cfb6", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZHCJ", "name": "unmet_feedback"}, {"code": "unmet_selected_flag = get_unmet_choice()\n\n# text state\nget_text_just_unmet, set_text_just_unmet = mo.state(\"\")\n\ncontent_just_unmet = (\n    mo.ui.text_area(\n        label=\"Please briefly justify your reasoning for your Unmet Need choice\",\n        value=get_text_just_unmet(),\n        on_change=lambda v: set_text_just_unmet(v),\n        rows=4,\n    )\n    if unmet_selected_flag is not None\n    else mo.md(\"\")\n)\n\ncontent_just_unmet", "code_hash": "3bd764856e1d24bbf5d2db6791f9abf8", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ROlb", "name": "unmet_justification"}, {"code": "# state for Merit Award Amount\nget_merit_choice, set_merit_choice = mo.state(None)\n\n# buttons\nmerit_inc_btn  = mo.ui.button(\n    label=\"Include\",\n    kind=\"success\",\n    on_click=lambda _: set_merit_choice(\"include\"),\n)\nmerit_exc_btn  = mo.ui.button(\n    label=\"Exclude\",\n    kind=\"danger\",\n    on_click=lambda _: set_merit_choice(\"exclude\"),\n)\nmerit_flag_btn = mo.ui.button(\n    label=\"Flag for Review\",\n    kind=\"warn\",\n    on_click=lambda _: set_merit_choice(\"flag\"),\n)\n\n# accordion content\nmerit_content = mo.vstack([\n    mo.md(\n        \"Scholarship amounts awarded based on academic achievement rather than \"\n        \"financial need. Consider whether this variable primarily reflects prior \"\n        \"achievement or introduces socioeconomic factors into your model.\"\n    ),\n    mo.hstack([merit_inc_btn, merit_exc_btn, merit_flag_btn], gap=\"1rem\"),\n])\nmo.accordion({\"Merit Award Amount\": merit_content})\n", "code_hash": "175ad8875cbbb72d62c03d760de6038b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "qnkX", "name": "merit_status"}, {"code": "merit_choice = get_merit_choice()\n\nmerit_emoji_map = {\n    \"include\": \"\ud83d\udfe2\",\n    \"exclude\": \"\ud83d\udd34\",\n    \"flag\":    \"\ud83d\udfe1\",\n    None:      \"\u26aa\ufe0f\",\n}\nmerit_text_map = {\n    \"include\": \"Include\",\n    \"exclude\": \"Exclude\",\n    \"flag\":    \"Flag for Review\",\n    None:      \"no selection\",\n}\n\nmo.md(\n    f\"You decided to {merit_emoji_map[merit_choice]} \"\n    f\"**{merit_text_map[merit_choice]}** the variable.\"\n)", "code_hash": "135d93e95acf19c1580b1816cf5c03ac", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "TqIu", "name": "merit_feedback"}, {"code": "merit_selected_flag = get_merit_choice()\n\nget_text_just_merit, set_text_just_merit = mo.state(\"\")\n\ncontent_just_merit = (\n    mo.ui.text_area(\n        label=\"Please briefly justify your reasoning for your Merit Award choice\",\n        value=get_text_just_merit(),\n        on_change=lambda v: set_text_just_merit(v),\n        rows=4,\n    )\n    if merit_selected_flag is not None\n    else mo.md(\"\")\n)\n\ncontent_just_merit", "code_hash": "5fc6abd39dad28c58034ef350c42241c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Vxnm", "name": "merit_justification"}, {"code": "# state for Pell Plus\nget_pplus_choice, set_pplus_choice = mo.state(None)\n\n# buttons\npplus_inc_btn  = mo.ui.button(\n    label=\"Include\",\n    kind=\"success\",\n    on_click=lambda _: set_pplus_choice(\"include\"),\n)\npplus_exc_btn  = mo.ui.button(\n    label=\"Exclude\",\n    kind=\"danger\",\n    on_click=lambda _: set_pplus_choice(\"exclude\"),\n)\npplus_flag_btn = mo.ui.button(\n    label=\"Flag for Review\",\n    kind=\"warn\",\n    on_click=lambda _: set_pplus_choice(\"flag\"),\n)\n\n# accordion content\npplus_content = mo.vstack([\n    mo.md(\n        \"University matching funds that complement federal Pell Grants. \"\n        \"Financial-aid variables like this are likely subject to the same \"\n        \"regulatory restrictions as other financial data.\"\n    ),\n    mo.hstack([pplus_inc_btn, pplus_exc_btn, pplus_flag_btn], gap=\"1rem\"),\n])\nmo.accordion({\"Pell Plus\": pplus_content})\n", "code_hash": "f3dfa46b88dd325bb280908c9bcfd9bc", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "DnEU", "name": "pplus_status"}, {"code": "pplus_choice = get_pplus_choice()\n\npplus_emoji_map = {\n    \"include\": \"\ud83d\udfe2\",\n    \"exclude\": \"\ud83d\udd34\",\n    \"flag\":    \"\ud83d\udfe1\",\n    None:      \"\u26aa\ufe0f\",\n}\npplus_text_map = {\n    \"include\": \"Include\",\n    \"exclude\": \"Exclude\",\n    \"flag\":    \"Flag for Review\",\n    None:      \"no selection\",\n}\n\nmo.md(\n    f\"You decided to {pplus_emoji_map[pplus_choice]} \"\n    f\"**{pplus_text_map[pplus_choice]}** the variable.\"\n)", "code_hash": "5eca9af03acb8fa5bafb85f946504cce", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ulZA", "name": "pplus_feedback"}, {"code": "pplus_selected_flag = get_pplus_choice()\n\nget_text_just_pplus, set_text_just_pplus = mo.state(\"\")\n\ncontent_just_pplus = (\n    mo.ui.text_area(\n        label=\"Please briefly justify your reasoning for your Pell Plus choice\",\n        value=get_text_just_pplus(),\n        on_change=lambda v: set_text_just_pplus(v),\n        rows=4,\n    )\n    if pplus_selected_flag is not None\n    else mo.md(\"\")\n)\n\ncontent_just_pplus", "code_hash": "5a597b7dc2439b7cbdc675a407109bba", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ecfG", "name": "pplus_justification"}, {"code": "\n# read each variable\u2019s choice\nchoice_pell  = get_choice()\nchoice_efc   = get_efc_choice()\nchoice_sai   = get_sai_choice()\nchoice_unmet = get_unmet_choice()\nchoice_merit  = get_merit_choice()\nchoice_pplus  = get_pplus_choice()\n\n# ----- Pell message\nif choice_pell == \"exclude\":\n    msg_pell = \"Right call\"\nelif choice_pell == \"flag\":\n    msg_pell = \"Flagged\"\nelif choice_pell == \"include\":\n    msg_pell = (\n        \"Including Pell Status violates current federal guidance and may expose \"\n        \"the institution to penalties. Consider aggregate reporting instead of \"\n        \"individual-level use.\"\n    )\nelse:\n    msg_pell = \"\"\n\n# ----- EFC message\nif choice_efc == \"exclude\":\n    msg_efc = \"Right call\"\nelif choice_efc == \"flag\":\n    msg_efc = \"Flagged\"\nelif choice_efc == \"include\":\n    msg_efc = (\n        \"EFC is explicitly barred under 2024 Department of Education rules; \"\n        \"its inclusion would render the model non-compliant.\"\n    )\nelse:\n    msg_efc = \"\"\n\n# ----- SAI message\nif choice_sai == \"exclude\":\n    msg_sai = \"Right call\"\nelif choice_sai == \"flag\":\n    msg_sai = \"Flagged\"\nelif choice_sai == \"include\":\n    msg_sai = (\n        \"SAI is sensitive financial-aid data with incomplete coverage. \"\n        \"Using it risks privacy violations and injects missing-data bias.\"\n    )\nelse:\n    msg_sai = \"\"\n\n# --- Unmet Need msg ---\nif choice_unmet == \"exclude\":\n    msg_unmet = \"Right call\"\nelif choice_unmet == \"flag\":\n    msg_unmet = \"Flagged\"\nelif choice_unmet == \"include\":\n    msg_unmet = (\n        \"Unmet Need combines multiple restricted data points. Including it would \"\n        \"contravene policy and amplify socioeconomic bias.\"\n    )\nelse:\n    msg_unmet = \"\"\n\n# --- Merit Award msg ---\nif choice_merit == \"exclude\":\n    msg_merit = \"Right call\"\nelif choice_merit == \"flag\":\n    msg_merit = \"Flagged\"\nelif choice_merit == \"include\":\n    msg_merit = (\n        \"Merit awards can proxy socioeconomic status and unintentionally \"\n        \"disadvantage low-income students. Use only with a strong equity \"\n        \"justification.\"\n    )\nelse:\n    msg_merit = \"\"\n\n# --- Pell Plus msg ---\nif choice_pplus == \"exclude\":\n    msg_pplus = \"Right call\"\nelif choice_pplus == \"flag\":\n    msg_pplus = \"Flagged\"\nelif choice_pplus == \"include\":\n    msg_pplus = (\n        \"Pell Plus directly signals Pell participation; individual-level use \"\n        \"is restricted. Exclude or seek explicit legal clearance.\"\n    )\nelse:\n    msg_pplus = \"\"\n\n\n# build accordion content\ncontent_detail_feedback = mo.vstack([\n    mo.md(f\"**Pell :** {msg_pell}\"),\n    mo.md(f\"**EFC  :** {msg_efc}\"),\n    mo.md(f\"**SAI  :** {msg_sai}\"),\n    mo.md(f\"**Unmet :** {msg_unmet}\"),\n    mo.md(f\"**Merit  :** {msg_merit}\"),\n    mo.md(f\"**Pell+  :** {msg_pplus}\"),\n])\n\nmo.accordion({\"Detailed Feedback\": content_detail_feedback})", "code_hash": "4f49ee19106f1a2201ab00989523e671", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Pvdt", "name": "detailed_feedback"}, {"code": "# ---- Global submit state ----\nsubmit_state, set_submit_state = mo.state(False)\n\n# ---- Helper to standardize decision ----\ndef dec_label(choice):\n    if choice in [\"include\", \"include_as_is\"]:\n        return \"Include\"\n    elif choice in [\"flag\", \"flag_improvement\", \"audit_only\"]:\n        return \"Flag\"\n    elif choice in [\"exclude\", \"exclude_unreliable\", \"exclude_entirely\"]:\n        return \"Exclude\"\n    else:\n        return \"No Selection\"\n\n# ---- Collect WAVE 1 choices ONLY ----\nall_choices = [\n    get_choice(), get_efc_choice(), get_sai_choice(), get_unmet_choice(), get_merit_choice(), get_pplus_choice()\n]\n\n# ---- Keep returning states for later use ----", "code_hash": "75ed12678a7418938f3780c5b630e3fc", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZBYS", "name": "wrapup_intro"}, {"code": "\ndef decision_label(choice):\n    if choice in [\"include\", \"include_as_is\", \"include_as-is\"]:\n        return \"Include\"\n    elif choice in [\"flag\", \"flag_improvement\", \"audit_only\"]:\n        return \"Flag\"\n    elif choice in [\"exclude\", \"exclude_unreliable\", \"exclude_entirely\"]:\n        return \"Exclude\"\n    else:\n        return \"No Selection\"\n\n# ---- WAVE 1 ONLY grouped rows ----\ngrouped_rows = {\n    \"Regulatory Gate\": [\n        (decision_label(get_choice()), \"Pell Status\"),\n        (decision_label(get_efc_choice()), \"Expected Family Contribution (EFC)\"),\n        (decision_label(get_sai_choice()), \"Student Aid Index (SAI)\"),\n        (decision_label(get_unmet_choice()), \"Unmet Need\"),\n        (decision_label(get_merit_choice()), \"Merit Award Amount\"),\n        (decision_label(get_pplus_choice()), \"Pell Plus\"),\n    ],\n}\n\n# Wave-1-only count with a unique name to avoid collisions\nw1_count = sum(\n    1 for _, rows in grouped_rows.items()\n    for (decision, _) in rows\n    if decision == \"Include\"\n)\n\n# build table HTML\ntable_html = \"<table style='border-collapse:collapse; width:100%; text-align:left;'>\"\ntable_html += \"<thead><tr><th>Group (Wave)</th><th>Decision</th><th>Variable</th></tr></thead><tbody>\"\n\nfor group, rows in grouped_rows.items():\n    # group header row\n    table_html += f\"<tr><td colspan='3' style='font-weight:bold; padding-top:10px;'>{group}</td></tr>\"\n    # variable rows\n    for decision, variable in rows:\n        color = \" style='background-color:#e8f5e9;'\" if decision == \"Include\" else \"\"\n        table_html += f\"<tr{color}><td></td><td>{decision}</td><td>{variable}</td></tr>\"\n    # blank line between groups\n    table_html += \"<tr><td colspan='3' style='height:8px;'></td></tr>\"\n\ntable_html += \"</tbody></table>\"\n\nmo.vstack([\n    mo.md(\"## End-of-Scenario Wrap-Up \u2013 Variable-Selection Brief\"),\n    mo.md(\n        f\"**_Your model will use the {w1_count} variables highlighted in green._** \"\n        \"Is this acceptable, or would you like to revise your selections?\"\n    ),\n    mo.Html(table_html)\n])", "code_hash": "f50e6967d494017ec9aca6d1429cd019", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "aLJB", "name": "wrapup_summary_table"}, {"code": "buttons_html = \"\"\"\n<div style=\"display:flex; justify-content:center; gap:1rem; margin-bottom:1rem;\">\n    <a href=\"#task_1\" style=\"padding:6px 12px; background:#eee; border-radius:6px; text-decoration:none;\">\n        Review Wave 1\n    </a>\n</div>\n\"\"\"\n\nfinal_feedback_html = \"\"\"\n<hr style=\"border: 3px solid #4CAF50; margin-top:1rem; margin-bottom:1rem;\">\n<div style=\"text-align:center; color:#4CAF50; font-size:1.5rem; font-weight:bold; margin-bottom:1rem;\">\n    Final Feedback\n</div>\n\"\"\"\n\nmo.vstack([mo.Html(buttons_html), mo.Html(final_feedback_html)])", "code_hash": "00182f1944bdabd1bc869d4123d250cb", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nHfw", "name": "wrapup_buttons"}, {"code": "def feedback_text(var, sel):\n    if var == \"Pell Status\":\n        if sel == \"include\":\n            return \"Including Pell Status violates current federal guidance and may expose the institution to penalties. Consider aggregate reporting instead of individual-level use.\"\n        elif sel in [\"flag\", \"exclude\"]:\n            return \"Right call\"\n    elif var == \"Expected Family Contribution (EFC)\":\n        if sel == \"include\":\n            return \"EFC is explicitly barred under 2024 Department of Education rules; its inclusion would render the model non-compliant.\"\n        elif sel in [\"flag\", \"exclude\"]:\n            return \"Right call\"\n    elif var == \"Student Aid Index (SAI)\":\n        if sel == \"include\":\n            return \"SAI is sensitive financial-aid data with incomplete coverage. Using it risks privacy violations and injects missing-data bias.\"\n        elif sel in [\"flag\", \"exclude\"]:\n            return \"Right call\"\n    elif var == \"Unmet Need\":\n        if sel == \"include\":\n            return \"Unmet Need combines multiple restricted data points. Including it would contravene policy and amplify socioeconomic bias.\"\n        elif sel in [\"flag\", \"exclude\"]:\n            return \"Right call\"\n    elif var == \"Merit Award Amount\":\n        if sel == \"include\":\n            return \"Merit awards can proxy socioeconomic status and unintentionally disadvantage low-income students. Use only with a strong equity justification.\"\n        elif sel in [\"flag\", \"exclude\"]:\n            return \"Right call\"\n    elif var == \"Pell Plus\":\n        if sel == \"include\":\n            return \"Pell Plus directly signals Pell participation; individual-level use is restricted. Exclude or seek explicit legal clearance.\"\n        elif sel in [\"flag\", \"exclude\"]:\n            return \"Right call\"\n\nvars_choices = {\n    \"Pell Status\": get_choice(),\n    \"Expected Family Contribution (EFC)\": get_efc_choice(),\n    \"Student Aid Index (SAI)\": get_sai_choice(),\n    \"Unmet Need\": get_unmet_choice(),\n    \"Merit Award Amount\": get_merit_choice(),\n    \"Pell Plus\": get_pplus_choice(),\n}\n\nalert_flag = False\nwrong_lines = []\ncorrect_vars = []\n\nfor var, sel in vars_choices.items():\n    txt = feedback_text(var, sel)\n    if txt and \"Right call\" not in txt:\n        alert_flag = True\n        wrong_lines.append(mo.md(f\"**{var}:** {txt}\"))\n    else:\n        correct_vars.append(var)\n\n# wave-level alert\nwave_alert = (\n    mo.md(\"\u26a0\ufe0f **At least one restricted variable still needs your attention.**\")\n    if alert_flag else\n    mo.md(\"\u2705 **Everything looks good in this wave!**\")\n)\n\ncorrect_line = (\n    mo.md(f\"\u2705 **No major concerns for:** {', '.join(correct_vars)}\")\n    if correct_vars else mo.md(\"\")\n)\n\nmo.accordion(\n    {\"Regulatory Gate Feedback\": mo.vstack([wave_alert] + wrong_lines + [correct_line])}\n)", "code_hash": "79476c48d8a7d8e8bb8f82a60be6a2d9", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "xXTn", "name": "wrapup_feedback_regulatory"}, {"code": "get_prod_text, set_prod_text = mo.state(\"\")\nget_refl_text, set_refl_text = mo.state(\"\")\n\nmo.vstack([\n    mo.md(\"## Placeholder for Product\"),\n    mo.Html(\"<div style='width:100%;'>\"),  # force full-width container\n    mo.ui.text_area(\n        label=\"Enter your product notes here\",\n        value=get_prod_text(),\n        on_change=lambda v: set_prod_text(v),\n        rows=8,\n    ),\n    mo.Html(\"</div>\"),\n\n    mo.md(\"&nbsp;\"),\n\n    mo.md(\"## Placeholder for Learner Reflection\"),\n    mo.Html(\"<div style='width:100%;'>\"),\n    mo.ui.text_area(\n        label=\"Please write your reflection here\",\n        value=get_refl_text(),\n        on_change=lambda v: set_refl_text(v),\n        rows=12,\n    ),\n    mo.Html(\"</div>\"),\n\n    mo.md(\"&nbsp;\"),\n])", "code_hash": "520a75e04c9e4be3b877f88679ccbfa6", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "AjVT", "name": "task_f"}], "metadata": {"marimo_version": "0.15.0"}, "version": "1"},
            "session": {"cells": [{"code_hash": "bb94a845d155a30fe94bc3f8d0bb6e62", "console": [], "id": "Hbol", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h1 id=\"variable-selection-scenario-task-1\">Variable selection scenario - Task 1</h1></span>"}, "type": "data"}]}, {"code_hash": "051c1840f00955ddaaded3ace4f61e37", "console": [], "id": "MJUe", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"the-story-so-far\">The story so far</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">The university is a large research institution that competes for students in a crowded higher-education market. Over the past five years the first-to-second-year retention rate has drifted downward, and graduation timelines have lengthened. Senior leadership has asked the Office of the Provost to treat student persistence as a strategic priority rather than a routine metric. An internal mandate now calls for data-informed, proactive outreach so that support staff can offer help long before a student considers leaving. Within the Office of the Provost a small Student Success Analytics group has been established. This team combines institutional researchers, academic advisors, compliance officers, and data engineers. Its first assignment is to create an early warning intelligence tool that flags continuing undergraduates who appear at risk of stopping out or falling behind schedule. Advisors will then contact those students and connect them with tutoring, financial counseling, or mentoring. The analytics group is expected to respect privacy regulations such as FERPA and recent federal guidance that limits the use of individual financial-aid records in automated decision systems. It is also expected to uphold the university commitment to equity and transparency in every technical choice.</span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span><span class=\"markdown prose dark:prose-invert\"><h2 id=\"role\">Role</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You serve as the team\u2019s data science specialist. Your immediate task is not to build a model but to decide which pieces of information should be fed into one. Working with colleagues you have assembled a data dictionary drawn from the university warehouse. The dictionary lists common attributes such as high school grade point averages, standardized test scores, race, gender, residency status, and course loads. It also contains financial indicators like Pell eligibility and Expected Family Contribution. Several context-specific items are included as well.Examples are whether a student applied to a regional campus after a main-campus denial, whether a student is a varsity athlete,and the distance between the student\u2019s home address and campus. No raw records are available at this stage of the project;only the variable descriptions, their known limitations, and any red-flag notes provided by legal or ethical reviewers.</span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span><span class=\"markdown prose dark:prose-invert\"><h2 id=\"business-objective-product\">Business Objective &amp; Product</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Academic advisors need a concise, defensible list of candidate predictors that can drive a predictive model without violating regulations or undermining equitable treatment. Your deliverable for this scenario is a Variable Selection Brief. In one page you will designate each variable as included, excluded, or flagged for additional discussion. For every decision you will provide a short rationale that links back to the goals of privacy protection, fairness, and practical usefulness. Advisors and compliance staff will review and sign this brief before any modelling work proceeds.</span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span></div>"}, "type": "data"}]}, {"code_hash": "de899bf9d71178ec07a386f3489294cd", "console": [], "id": "vblA", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"lecture-material\">Lecture material</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">When people first enter the field of data science, they often think primarily about technical skills: coding, statistics, and modeling. These skills are necessary, but they are not sufficient. A responsible data scientist also needs to be aware of the environment in which data is collected and used. That environment is shaped not only by ethical considerations, but also by laws, regulations, and institutional policies. In many cases, these rules are not suggestions or guidelines. They are mandatory requirements that determine which data may or may not be used in analytic models. Ignoring them can expose an institution to legal liability, loss of funding, and reputational damage, and it can expose individuals to professional consequences.</span>\n<span class=\"paragraph\">The purpose of a regulatory gate is to remind practitioners that compliance is a foundational part of their role. Before asking whether a variable is predictive, fair, or reliable, the first question must be: <em>is this variable even allowed?</em> Responsible practice requires making compliance checks the starting point of data work, not an afterthought. This habit prevents the costly and harmful situation in which a technically polished model is later discovered to rely on information that never should have been touched in the first place.</span>\n<span class=\"paragraph\">In higher education, financial aid data is one of the clearest examples of this. Several measures related to student financial aid are explicitly restricted by federal law or by Department of Education policy. To see this in action, consider three variables you will encounter in this task. Pell Grants are federal grants designed to help low-income students access higher education. Whether or not a student receives a Pell Grant is therefore a direct marker of socioeconomic status. Because of its sensitivity, federal guidance prohibits the use of individual-level Pell status as a predictor in models. Another important measure is the Expected Family Contribution, or EFC. This was the long-standing formula used to determine how much a family could reasonably contribute toward the cost of attendance. Under updated federal rules, EFC is explicitly barred from modeling use. Its replacement, the Student Aid Index, or SAI, was introduced to modernize the calculation of aid eligibility. Yet even though it is newer, it remains sensitive financial-aid data, incomplete in its coverage, and unsuitable for individual-level predictive modeling. In short, these variables are \u201cred lines\u201d in the data science of education: they cannot be included in the models you design, regardless of their predictive value.</span>\n<span class=\"paragraph\">Other related variables highlight the complexity of this issue. For example, \u201cUnmet Need\u201d is a derived measure that combines several restricted inputs, and so it inherits their problems. Using it would not only amplify socioeconomic bias but also contravene the same rules that restrict its underlying components. Merit awards, by contrast, are not outright banned, but they can function as proxies for income and privilege, raising significant concerns about fairness and equity. Even though not formally prohibited, they should be treated with extreme caution. Finally, Pell Plus, a programmatic marker tied directly to Pell eligibility, is similarly off-limits for predictive modeling because it signals the same restricted information.</span>\n<span class=\"paragraph\">The broader lesson here is that responsible data science requires a constant awareness of regulation. Rules about what may or may not be used vary across sectors. In health care, certain medical and genetic information is tightly restricted. In employment, using age or disability status in predictive models can constitute illegal discrimination. In criminal justice, courts and agencies place limits on the inclusion of demographic data in risk assessments. What these examples have in common is the principle that a technically sound model is not necessarily a legitimate one. Legitimacy requires compliance with external standards.</span>\n<span class=\"paragraph\">As a learner in this wave, your task is not to balance competing values or to weigh predictive benefit against ethical risk, as in later waves. Instead, your job is to show that you recognize the bright lines set by law and policy. There is a right and a wrong answer here, because some variables are explicitly prohibited. The responsible path is to exclude them or flag them for compliance review, rather than to rationalize their inclusion. By demonstrating this awareness, you are showing that you understand your dual role: not only as a data scientist searching for patterns, but also as a steward of institutional trust and legal responsibility.</span>\n<span class=\"paragraph\">The takeaway is clear: predictive modeling in education, or in any sensitive domain, cannot be separated from compliance. Responsible practice requires building the habit of asking \u201cam I allowed to use this?\u201d before asking \u201cdoes it predict well?\u201d By internalizing this discipline, you reduce risks for yourself and for your institution, and you strengthen the credibility of the models you help to build.</span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span><span class=\"markdown prose dark:prose-invert\"><h2 id=\"learner-reflection\">Learner Reflection</h2></span><div style='width:100%;'><marimo-ui-element object-id='vblA-0' random-id='d6e46e94-ef43-f68f-7a85-63e57b786192'><marimo-text-area data-initial-value='&quot;&quot;' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Considering what you just read, please write a short paragraph on how you think a person in your hypothetical position should guide their actions during this process. There is no right or wrong answer; this is a place for you to lay out your expectations before interacting with the task at hand&lt;/span&gt;&lt;/span&gt;&quot;' data-placeholder='&quot;&quot;' data-disabled='false' data-debounce='true' data-full-width='false' data-rows='12'></marimo-text-area></marimo-ui-element></div><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span></div>"}, "type": "data"}]}, {"code_hash": "6a5b52a1b382f674d3e0798ca39087e5", "console": [], "id": "bkHC", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"task-1-regulatory-gate\">Task 1 Regulatory Gate</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><em>For each variable choose </em><em>one</em><em> action:</em></span></span>\n            <div style=\"display:flex; justify-content:center;\">\n              <table style=\"border-collapse:separate; border-spacing:0 6px; text-align:center;\">\n                <thead>\n                  <tr>\n                    <th style=\"padding:0.5rem 1.5rem;\">Action</th>\n                    <th style=\"padding:0.5rem 1.5rem;\">Meaning</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td style=\"padding:0.5rem 1.5rem;\"><b>Include</b></td>\n                    <td style=\"padding:0.5rem 1.5rem;\">\n                      Use this variable in the predictive model.\n                    </td>\n                  </tr>\n                  <tr>\n                    <td style=\"padding:0.5rem 1.5rem;\"><b>Exclude</b></td>\n                    <td style=\"padding:0.5rem 1.5rem;\">\n                      Remove it from consideration.\n                    </td>\n                  </tr>\n                  <tr>\n                    <td style=\"padding:0.5rem 1.5rem;\"><b>Flag for Legal / IRB Review</b></td>\n                    <td style=\"padding:0.5rem 1.5rem;\">\n                      Put the variable on hold until university counsel (or the IRB) provides guidance. \n                      Flag the variable only if you believe it requires review by university counsel (or the IRB) before use. \n                      Reserve this option for cases where you have a specific, well-founded concern, not as a default choice..\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            </div>"}, "type": "data"}]}, {"code_hash": "290480cc8ae377aab817a148d01a7b3f", "console": [], "id": "lEQa", "outputs": [{"data": {"text/html": "<div id=\"task_1\"></div>"}, "type": "data"}]}, {"code_hash": "b17524e196e2c6e374998bab00149bc8", "console": [], "id": "PKri", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Pell Status&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Whether a student receives a federal Pell Grant. New regulations restrict use of financial-aid data in predictive modeling.</span></span><div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 1remrem'><marimo-ui-element object-id='PKri-0' random-id='51010a13-80a4-b981-839b-e78967252c39'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Include&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;success&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='PKri-1' random-id='7ecb2910-e206-3870-53ee-bf9bc03ecb65'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Exclude&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;danger&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='PKri-2' random-id='06c400f1-16db-f68c-3a70-01ef8f9cc177'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Flag for Review&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;warn&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element></div></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "1fe71fb19948cb1ceb84c86dff19e242", "console": [], "id": "Xref", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You decided to \u26aa\ufe0f <strong>no selection</strong> the variable.</span></span>"}, "type": "data"}]}, {"code_hash": "e4fa47bd8f02d647e62752c838fc6840", "console": [], "id": "SFPL", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"></span>"}, "type": "data"}]}, {"code_hash": "576466fe78008970ad3ef1f665d6e54d", "console": [], "id": "BYtC", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Expected Family Contribution (EFC)&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Amount a family is expected to contribute to education costs (legacy FAFSA metric). Regulatory compliance requires excluding this sensitive financial information.</span></span><div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 1remrem'><marimo-ui-element object-id='BYtC-0' random-id='9d816e81-81c9-c077-fa04-ebde279f221e'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Include&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;success&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='BYtC-1' random-id='d460837d-01b1-96da-81e7-30c100d41dc0'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Exclude&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;danger&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='BYtC-2' random-id='58893407-4d2e-0ff2-cb26-734131dd38b1'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Flag for Review&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;warn&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element></div></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "4554b1a2bb36081bbab239aa1b9f3c69", "console": [], "id": "RGSE", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You decided to \u26aa\ufe0f <strong>no selection</strong> the variable.</span></span>"}, "type": "data"}]}, {"code_hash": "4ea0881922ef1357f91a04b55405ad0d", "console": [], "id": "Kclp", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"></span>"}, "type": "data"}]}, {"code_hash": "f19ac47d1bb920485bdf8d93efb2480b", "console": [], "id": "emfo", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Student Aid Index (SAI)&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">A new metric from recent FAFSA changes that replaced EFC. Recent implementation means this data may not be available for all students in your historical dataset.</span></span><div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 1remrem'><marimo-ui-element object-id='emfo-0' random-id='74a422f0-3fc6-bc2a-f0e1-6973cd0e3da4'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Include&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;success&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='emfo-1' random-id='c8b1bb25-49a2-e5a0-5d4d-36bbf9f2424b'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Exclude&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;danger&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='emfo-2' random-id='e10261f6-1532-3bff-7f35-53ebb2cced10'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Flag for Review&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;warn&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element></div></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "e17d1c687d0536510a7cf4074e71061d", "console": [], "id": "Hstk", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You decided to \u26aa\ufe0f <strong>no selection</strong> the variable.</span></span>"}, "type": "data"}]}, {"code_hash": "ed9682b0c47fb5099efd2292bc98821a", "console": [], "id": "nWHF", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"></span>"}, "type": "data"}]}, {"code_hash": "151e6d8a42115cb1e426444bc3474782", "console": [], "id": "iLit", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Unmet Need&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Gap between the cost of attendance and the student\u2019s available resources. Financial-stress indicator, but regulatory restrictions likely prohibit its use in individual-level models.</span></span><div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 1remrem'><marimo-ui-element object-id='iLit-0' random-id='86dd07d5-373c-f675-1f43-9ad2cd3a5065'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Include&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;success&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='iLit-1' random-id='28c61100-d3dc-845b-0ea0-b1560fc4fab4'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Exclude&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;danger&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='iLit-2' random-id='b042fcb4-d1d5-d985-d337-6ba59d281f1c'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Flag for Review&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;warn&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element></div></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "9a7af95a2968efd71f6818a90760cfb6", "console": [], "id": "ZHCJ", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You decided to \u26aa\ufe0f <strong>no selection</strong> the variable.</span></span>"}, "type": "data"}]}, {"code_hash": "3bd764856e1d24bbf5d2db6791f9abf8", "console": [], "id": "ROlb", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"></span>"}, "type": "data"}]}, {"code_hash": "175ad8875cbbb72d62c03d760de6038b", "console": [], "id": "qnkX", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Merit Award Amount&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Scholarship amounts awarded based on academic achievement rather than financial need. Consider whether this variable primarily reflects prior achievement or introduces socioeconomic factors into your model.</span></span><div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 1remrem'><marimo-ui-element object-id='qnkX-0' random-id='5f25aa70-755a-11b3-9ef4-70f8fd43a192'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Include&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;success&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='qnkX-1' random-id='ca03feaf-920f-cc35-c180-91255ae53ac8'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Exclude&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;danger&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='qnkX-2' random-id='b4403c13-1669-78da-5a45-5170f6dc59db'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Flag for Review&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;warn&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element></div></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "135d93e95acf19c1580b1816cf5c03ac", "console": [], "id": "TqIu", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You decided to \u26aa\ufe0f <strong>no selection</strong> the variable.</span></span>"}, "type": "data"}]}, {"code_hash": "5fc6abd39dad28c58034ef350c42241c", "console": [], "id": "Vxnm", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"></span>"}, "type": "data"}]}, {"code_hash": "f3dfa46b88dd325bb280908c9bcfd9bc", "console": [], "id": "DnEU", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Pell Plus&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">University matching funds that complement federal Pell Grants. Financial-aid variables like this are likely subject to the same regulatory restrictions as other financial data.</span></span><div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 1remrem'><marimo-ui-element object-id='DnEU-0' random-id='f096b8b9-b38f-f926-5eab-60426b1701de'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Include&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;success&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='DnEU-1' random-id='413cfe16-ab84-c6d0-503f-e600c6d3db40'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Exclude&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;danger&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element><marimo-ui-element object-id='DnEU-2' random-id='f3241b1a-9450-6c6e-6cdb-e3186395dfa1'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Flag for Review&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;warn&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element></div></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "5eca9af03acb8fa5bafb85f946504cce", "console": [], "id": "ulZA", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">You decided to \u26aa\ufe0f <strong>no selection</strong> the variable.</span></span>"}, "type": "data"}]}, {"code_hash": "5a597b7dc2439b7cbdc675a407109bba", "console": [], "id": "ecfG", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"></span>"}, "type": "data"}]}, {"code_hash": "4f49ee19106f1a2201ab00989523e671", "console": [], "id": "Pvdt", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Detailed Feedback&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>Pell :</strong> </span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>EFC  :</strong> </span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>SAI  :</strong> </span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>Unmet :</strong> </span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>Merit  :</strong> </span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>Pell+  :</strong> </span></span></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "75ed12678a7418938f3780c5b630e3fc", "console": [], "id": "ZBYS", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "f50e6967d494017ec9aca6d1429cd019", "console": [], "id": "aLJB", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"end-of-scenario-wrap-up-variable-selection-brief\">End-of-Scenario Wrap-Up \u2013 Variable-Selection Brief</h2></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong><em>Your model will use the 0 variables highlighted in green.</em></strong> Is this acceptable, or would you like to revise your selections?</span></span><table style='border-collapse:collapse; width:100%; text-align:left;'><thead><tr><th>Group (Wave)</th><th>Decision</th><th>Variable</th></tr></thead><tbody><tr><td colspan='3' style='font-weight:bold; padding-top:10px;'>Regulatory Gate</td></tr><tr><td></td><td>No Selection</td><td>Pell Status</td></tr><tr><td></td><td>No Selection</td><td>Expected Family Contribution (EFC)</td></tr><tr><td></td><td>No Selection</td><td>Student Aid Index (SAI)</td></tr><tr><td></td><td>No Selection</td><td>Unmet Need</td></tr><tr><td></td><td>No Selection</td><td>Merit Award Amount</td></tr><tr><td></td><td>No Selection</td><td>Pell Plus</td></tr><tr><td colspan='3' style='height:8px;'></td></tr></tbody></table></div>"}, "type": "data"}]}, {"code_hash": "00182f1944bdabd1bc869d4123d250cb", "console": [], "id": "nHfw", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'>\n<div style=\"display:flex; justify-content:center; gap:1rem; margin-bottom:1rem;\">\n    <a href=\"#task_1\" style=\"padding:6px 12px; background:#eee; border-radius:6px; text-decoration:none;\">\n        Review Wave 1\n    </a>\n</div>\n\n<hr style=\"border: 3px solid #4CAF50; margin-top:1rem; margin-bottom:1rem;\">\n<div style=\"text-align:center; color:#4CAF50; font-size:1.5rem; font-weight:bold; margin-bottom:1rem;\">\n    Final Feedback\n</div>\n</div>"}, "type": "data"}]}, {"code_hash": "79476c48d8a7d8e8bb8f82a60be6a2d9", "console": [], "id": "xXTn", "outputs": [{"data": {"text/html": "<marimo-accordion data-labels='[&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Regulatory Gate Feedback&lt;/span&gt;&lt;/span&gt;&quot;]' data-multiple='false'><div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">\u2705 <strong>Everything looks good in this wave!</strong></span></span><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">\u2705 <strong>No major concerns for:</strong> Pell Status, Expected Family Contribution (EFC), Student Aid Index (SAI), Unmet Need, Merit Award Amount, Pell Plus</span></span></div></div></marimo-accordion>"}, "type": "data"}]}, {"code_hash": "520a75e04c9e4be3b877f88679ccbfa6", "console": [], "id": "AjVT", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"placeholder-for-product\">Placeholder for Product</h2></span><div style='width:100%;'><marimo-ui-element object-id='AjVT-0' random-id='d1d07d08-f79f-115f-696a-f855852ca27b'><marimo-text-area data-initial-value='&quot;&quot;' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Enter your product notes here&lt;/span&gt;&lt;/span&gt;&quot;' data-placeholder='&quot;&quot;' data-disabled='false' data-debounce='true' data-full-width='false' data-rows='8'></marimo-text-area></marimo-ui-element></div><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span><span class=\"markdown prose dark:prose-invert\"><h2 id=\"placeholder-for-learner-reflection\">Placeholder for Learner Reflection</h2></span><div style='width:100%;'><marimo-ui-element object-id='AjVT-1' random-id='b90032cd-5672-c289-76c7-b67c372e2bfd'><marimo-text-area data-initial-value='&quot;&quot;' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Please write your reflection here&lt;/span&gt;&lt;/span&gt;&quot;' data-placeholder='&quot;&quot;' data-disabled='false' data-debounce='true' data-full-width='false' data-rows='12'></marimo-text-area></marimo-ui-element></div><span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">&nbsp;</span></span></div>"}, "type": "data"}]}], "metadata": {"marimo_version": "0.15.0"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.15.0%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%22%23%20Variable%20selection%20scenario%20-%20Task%201%5Cn%22%0A%0A%20%20%20%20)%0A%20%20%20%20return%20(mo%2C)%0A%0A%0A%40app.cell%0Adef%20task_1(mo)%3A%0A%20%20%20%20mo.vstack(%0A%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%201)%20subtitle%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%23%23%20The%20story%20so%20far%22)%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%202)%20%E2%80%9CNote%20to%20the%20team%E2%80%9D%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22The%20university%20is%20a%20large%20research%20institution%20that%20competes%20for%20students%20in%20a%20crowded%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22higher-education%20market.%20Over%20the%20past%20five%20years%20the%20first-to-second-year%20retention%20rate%20has%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22drifted%20downward%2C%20and%20graduation%20timelines%20have%20lengthened.%20Senior%20leadership%20has%20asked%20the%20Office%20of%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22the%20Provost%20to%20treat%20student%20persistence%20as%20a%20strategic%20priority%20rather%20than%20a%20routine%20metric.%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22An%20internal%20mandate%20now%20calls%20for%20data-informed%2C%20proactive%20outreach%20so%20that%20support%20staff%20can%20offer%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22help%20long%20before%20a%20student%20considers%20leaving.%20Within%20the%20Office%20of%20the%20Provost%20a%20small%20Student%20Success%20Analytics%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22group%20has%20been%20established.%20This%20team%20combines%20institutional%20researchers%2C%20academic%20advisors%2C%20compliance%20officers%2C%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22and%20data%20engineers.%20Its%20first%20assignment%20is%20to%20create%20an%20early%20warning%20intelligence%20tool%20that%20flags%20continuing%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22undergraduates%20who%20appear%20at%20risk%20of%20stopping%20out%20or%20falling%20behind%20schedule.%20Advisors%20will%20then%20contact%20those%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22students%20and%20connect%20them%20with%20tutoring%2C%20financial%20counseling%2C%20or%20mentoring.%20The%20analytics%20group%20is%20expected%20to%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22respect%20privacy%20regulations%20such%20as%20FERPA%20and%20recent%20federal%20guidance%20that%20limits%20the%20use%20of%20individual%20financial-aid%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22records%20in%20automated%20decision%20systems.%20It%20is%20also%20expected%20to%20uphold%20the%20university%20commitment%20to%20equity%20and%20transparency%20in%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22every%20technical%20choice.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Role%22)%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%202)%20%E2%80%9CNote%20to%20the%20team%E2%80%9D%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22You%20serve%20as%20the%20team%E2%80%99s%20data%20science%20specialist.%20Your%20immediate%20task%20is%20not%20to%20build%20a%20model%20but%20to%20decide%20which%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pieces%20of%20information%20should%20be%20fed%20into%20one.%20Working%20with%20colleagues%20you%20have%20assembled%20a%20data%20dictionary%20drawn%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22from%20the%20university%20warehouse.%20The%20dictionary%20lists%20common%20attributes%20such%20as%20high%20school%20grade%20point%20averages%2C%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22standardized%20test%20scores%2C%20race%2C%20gender%2C%20residency%20status%2C%20and%20course%20loads.%20It%20also%20contains%20financial%20indicators%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22like%20Pell%20eligibility%20and%20Expected%20Family%20Contribution.%20Several%20context-specific%20items%20are%20included%20as%20well.%22%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Examples%20are%20whether%20a%20student%20applied%20to%20a%20regional%20campus%20after%20a%20main-campus%20denial%2C%20whether%20a%20student%20is%20a%20varsity%20athlete%2C%22%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22and%20the%20distance%20between%20the%20student%E2%80%99s%20home%20address%20and%20campus.%20No%20raw%20records%20are%20available%20at%20this%20stage%20of%20the%20project%3B%22%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22only%20the%20variable%20descriptions%2C%20their%20known%20limitations%2C%20and%20any%20red-flag%20notes%20provided%20by%20legal%20or%20ethical%20reviewers.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Business%20Objective%20%26%20Product%22)%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%202)%20%E2%80%9CNote%20to%20the%20team%E2%80%9D%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Academic%20advisors%20need%20a%20concise%2C%20defensible%20list%20of%20candidate%20predictors%20that%20can%20drive%20a%20predictive%20model%20without%20violating%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22regulations%20or%20undermining%20equitable%20treatment.%20Your%20deliverable%20for%20this%20scenario%20is%20a%20Variable%20Selection%20Brief.%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22In%20one%20page%20you%20will%20designate%20each%20variable%20as%20included%2C%20excluded%2C%20or%20flagged%20for%20additional%20discussion.%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22For%20every%20decision%20you%20will%20provide%20a%20short%20rationale%20that%20links%20back%20to%20the%20goals%20of%20privacy%20protection%2C%20fairness%2C%20and%20practical%20usefulness.%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Advisors%20and%20compliance%20staff%20will%20review%20and%20sign%20this%20brief%20before%20any%20modelling%20work%20proceeds.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20task_f(mo)%3A%0A%20%20%20%20get_init_refl_text%2C%20set_init_refl_text%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23Lecture%20material%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%22When%20people%20first%20enter%20the%20field%20of%20data%20science%2C%20they%20often%20think%20primarily%20about%20technical%20skills%3A%20coding%2C%20statistics%2C%20and%20modeling.%20%22%0A%20%20%20%20%22These%20skills%20are%20necessary%2C%20but%20they%20are%20not%20sufficient.%20A%20responsible%20data%20scientist%20also%20needs%20to%20be%20aware%20of%20the%20environment%20in%20which%20data%20is%20collected%20and%20used.%20%22%0A%20%20%20%20%22That%20environment%20is%20shaped%20not%20only%20by%20ethical%20considerations%2C%20but%20also%20by%20laws%2C%20regulations%2C%20and%20institutional%20policies.%20In%20many%20cases%2C%20these%20rules%20are%20not%20suggestions%20or%20guidelines.%20%22%0A%20%20%20%20%22They%20are%20mandatory%20requirements%20that%20determine%20which%20data%20may%20or%20may%20not%20be%20used%20in%20analytic%20models.%20Ignoring%20them%20can%20expose%20an%20institution%20to%20legal%20liability%2C%20loss%20of%20funding%2C%20and%20reputational%20damage%2C%20and%20it%20can%20expose%20individuals%20to%20professional%20consequences.%5Cn%5Cn%22%0A%20%20%20%20%22The%20purpose%20of%20a%20regulatory%20gate%20is%20to%20remind%20practitioners%20that%20compliance%20is%20a%20foundational%20part%20of%20their%20role.%20Before%20asking%20whether%20a%20variable%20is%20predictive%2C%20fair%2C%20or%20reliable%2C%20the%20first%20question%20must%20be%3A%20*is%20this%20variable%20even%20allowed%3F*%20%22%0A%20%20%20%20%22Responsible%20practice%20requires%20making%20compliance%20checks%20the%20starting%20point%20of%20data%20work%2C%20not%20an%20afterthought.%20This%20habit%20prevents%20the%20costly%20and%20harmful%20situation%20in%20which%20a%20technically%20polished%20model%20is%20later%20discovered%20to%20rely%20on%20information%20that%20never%20should%20have%20been%20touched%20in%20the%20first%20place.%5Cn%5Cn%22%0A%20%20%20%20%22In%20higher%20education%2C%20financial%20aid%20data%20is%20one%20of%20the%20clearest%20examples%20of%20this.%20Several%20measures%20related%20to%20student%20financial%20aid%20are%20explicitly%20restricted%20by%20federal%20law%20or%20by%20Department%20of%20Education%20policy.%20%22%0A%20%20%20%20%22To%20see%20this%20in%20action%2C%20consider%20three%20variables%20you%20will%20encounter%20in%20this%20task.%20Pell%20Grants%20are%20federal%20grants%20designed%20to%20help%20low-income%20students%20access%20higher%20education.%20%22%0A%20%20%20%20%22Whether%20or%20not%20a%20student%20receives%20a%20Pell%20Grant%20is%20therefore%20a%20direct%20marker%20of%20socioeconomic%20status.%20Because%20of%20its%20sensitivity%2C%20federal%20guidance%20prohibits%20the%20use%20of%20individual-level%20Pell%20status%20as%20a%20predictor%20in%20models.%20%22%0A%20%20%20%20%22Another%20important%20measure%20is%20the%20Expected%20Family%20Contribution%2C%20or%20EFC.%20This%20was%20the%20long-standing%20formula%20used%20to%20determine%20how%20much%20a%20family%20could%20reasonably%20contribute%20toward%20the%20cost%20of%20attendance.%20%22%0A%20%20%20%20%22Under%20updated%20federal%20rules%2C%20EFC%20is%20explicitly%20barred%20from%20modeling%20use.%20Its%20replacement%2C%20the%20Student%20Aid%20Index%2C%20or%20SAI%2C%20was%20introduced%20to%20modernize%20the%20calculation%20of%20aid%20eligibility.%20%22%0A%20%20%20%20%22Yet%20even%20though%20it%20is%20newer%2C%20it%20remains%20sensitive%20financial-aid%20data%2C%20incomplete%20in%20its%20coverage%2C%20and%20unsuitable%20for%20individual-level%20predictive%20modeling.%20%22%0A%20%20%20%20%22In%20short%2C%20these%20variables%20are%20%E2%80%9Cred%20lines%E2%80%9D%20in%20the%20data%20science%20of%20education%3A%20they%20cannot%20be%20included%20in%20the%20models%20you%20design%2C%20regardless%20of%20their%20predictive%20value.%5Cn%5Cn%22%0A%20%20%20%20%22Other%20related%20variables%20highlight%20the%20complexity%20of%20this%20issue.%20For%20example%2C%20%E2%80%9CUnmet%20Need%E2%80%9D%20is%20a%20derived%20measure%20that%20combines%20several%20restricted%20inputs%2C%20and%20so%20it%20inherits%20their%20problems.%20%22%0A%20%20%20%20%22Using%20it%20would%20not%20only%20amplify%20socioeconomic%20bias%20but%20also%20contravene%20the%20same%20rules%20that%20restrict%20its%20underlying%20components.%20%22%0A%20%20%20%20%22Merit%20awards%2C%20by%20contrast%2C%20are%20not%20outright%20banned%2C%20but%20they%20can%20function%20as%20proxies%20for%20income%20and%20privilege%2C%20raising%20significant%20concerns%20about%20fairness%20and%20equity.%20%22%0A%20%20%20%20%22Even%20though%20not%20formally%20prohibited%2C%20they%20should%20be%20treated%20with%20extreme%20caution.%20Finally%2C%20Pell%20Plus%2C%20a%20programmatic%20marker%20tied%20directly%20to%20Pell%20eligibility%2C%20is%20similarly%20off-limits%20for%20predictive%20modeling%20because%20it%20signals%20the%20same%20restricted%20information.%5Cn%5Cn%22%0A%20%20%20%20%22The%20broader%20lesson%20here%20is%20that%20responsible%20data%20science%20requires%20a%20constant%20awareness%20of%20regulation.%20Rules%20about%20what%20may%20or%20may%20not%20be%20used%20vary%20across%20sectors.%20%22%0A%20%20%20%20%22In%20health%20care%2C%20certain%20medical%20and%20genetic%20information%20is%20tightly%20restricted.%20In%20employment%2C%20using%20age%20or%20disability%20status%20in%20predictive%20models%20can%20constitute%20illegal%20discrimination.%20%22%0A%20%20%20%20%22In%20criminal%20justice%2C%20courts%20and%20agencies%20place%20limits%20on%20the%20inclusion%20of%20demographic%20data%20in%20risk%20assessments.%20What%20these%20examples%20have%20in%20common%20is%20the%20principle%20that%20a%20technically%20sound%20model%20is%20not%20necessarily%20a%20legitimate%20one.%20%22%0A%20%20%20%20%22Legitimacy%20requires%20compliance%20with%20external%20standards.%5Cn%5Cn%22%0A%20%20%20%20%22As%20a%20learner%20in%20this%20wave%2C%20your%20task%20is%20not%20to%20balance%20competing%20values%20or%20to%20weigh%20predictive%20benefit%20against%20ethical%20risk%2C%20as%20in%20later%20waves.%20%22%0A%20%20%20%20%22Instead%2C%20your%20job%20is%20to%20show%20that%20you%20recognize%20the%20bright%20lines%20set%20by%20law%20and%20policy.%20There%20is%20a%20right%20and%20a%20wrong%20answer%20here%2C%20because%20some%20variables%20are%20explicitly%20prohibited.%20%22%0A%20%20%20%20%22The%20responsible%20path%20is%20to%20exclude%20them%20or%20flag%20them%20for%20compliance%20review%2C%20rather%20than%20to%20rationalize%20their%20inclusion.%20%22%0A%20%20%20%20%22By%20demonstrating%20this%20awareness%2C%20you%20are%20showing%20that%20you%20understand%20your%20dual%20role%3A%20not%20only%20as%20a%20data%20scientist%20searching%20for%20patterns%2C%20but%20also%20as%20a%20steward%20of%20institutional%20trust%20and%20legal%20responsibility.%5Cn%5Cn%22%0A%20%20%20%20%22The%20takeaway%20is%20clear%3A%20predictive%20modeling%20in%20education%2C%20or%20in%20any%20sensitive%20domain%2C%20cannot%20be%20separated%20from%20compliance.%20%22%0A%20%20%20%20%22Responsible%20practice%20requires%20building%20the%20habit%20of%20asking%20%E2%80%9Cam%20I%20allowed%20to%20use%20this%3F%E2%80%9D%20before%20asking%20%E2%80%9Cdoes%20it%20predict%20well%3F%E2%80%9D%20%22%0A%20%20%20%20%22By%20internalizing%20this%20discipline%2C%20you%20reduce%20risks%20for%20yourself%20and%20for%20your%20institution%2C%20and%20you%20strengthen%20the%20credibility%20of%20the%20models%20you%20help%20to%20build.%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23Learner%20Reflection%22)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3Cdiv%20style%3D'width%3A100%25%3B'%3E%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20label%3D%22Considering%20what%20you%20just%20read%2C%20please%20write%20a%20short%20paragraph%20on%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%22how%20you%20think%20a%20person%20in%20your%20hypothetical%20position%20should%20guide%20their%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%22actions%20during%20this%20process.%20There%20is%20no%20right%20or%20wrong%20answer%3B%20this%20is%20a%20place%20%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%22for%20you%20to%20lay%20out%20your%20expectations%20before%20interacting%20with%20the%20task%20at%20hand%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_init_refl_text()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_init_refl_text(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D12%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3C%2Fdiv%3E%22)%2C%0A%0A%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20task_11(mo)%3A%0A%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%201)%20instructions%20for%20the%20table%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Task%201%20Regulatory%20Gate%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22*For%20each%20variable%20choose%20**one**%20action%3A*%22)%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%202)%20centralized%20table%0A%20%20%20%20%20%20%20%20mo.Html(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3Aflex%3B%20justify-content%3Acenter%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctable%20style%3D%22border-collapse%3Aseparate%3B%20border-spacing%3A0%206px%3B%20text-align%3Acenter%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cthead%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3EAction%3C%2Fth%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3EMeaning%3C%2Fth%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fthead%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctbody%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%3Cb%3EInclude%3C%2Fb%3E%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Use%20this%20variable%20in%20the%20predictive%20model.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%3Cb%3EExclude%3C%2Fb%3E%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Remove%20it%20from%20consideration.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%3Cb%3EFlag%20for%20Legal%20%2F%20IRB%20Review%3C%2Fb%3E%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding%3A0.5rem%201.5rem%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Put%20the%20variable%20on%20hold%20until%20university%20counsel%20(or%20the%20IRB)%20provides%20guidance.%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Flag%20the%20variable%20only%20if%20you%20believe%20it%20requires%20review%20by%20university%20counsel%20(or%20the%20IRB)%20before%20use.%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Reserve%20this%20option%20for%20cases%20where%20you%20have%20a%20specific%2C%20well-founded%20concern%2C%20not%20as%20a%20default%20choice..%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftd%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftbody%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftable%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20anchor_task_1(mo)%3A%0A%20%20%20%20mo.Html('%3Cdiv%20id%3D%22task_1%22%3E%3C%2Fdiv%3E')%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pell_status(mo)%3A%0A%0A%20%20%20%20%23%201%20reactive%20state%20for%20this%20variable%0A%20%20%20%20get_choice%2C%20set_choice%20%3D%20mo.state(None)%0A%0A%20%20%20%20%23%202%20flag%20buttons%0A%20%20%20%20include_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Include%22%2C%20kind%3D%22success%22%2C%20on_click%3Dlambda%20_%3A%20set_choice(%22include%22)%0A%20%20%20%20)%0A%20%20%20%20exclude_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Exclude%22%2C%20kind%3D%22danger%22%2C%20%20on_click%3Dlambda%20_%3A%20set_choice(%22exclude%22)%0A%20%20%20%20)%0A%20%20%20%20flag_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Flag%20for%20Review%22%2C%20kind%3D%22warn%22%2C%20on_click%3Dlambda%20_%3A%20set_choice(%22flag%22)%0A%20%20%20%20)%0A%0A%20%20%20%20%23%203%20put%20buttons%20in%20an%20accordion%20%0A%20%20%20%20content%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Whether%20a%20student%20receives%20a%20federal%20Pell%20Grant.%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22New%20regulations%20restrict%20use%20of%20financial-aid%20data%20in%20predictive%20modeling.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.hstack(%5Binclude_btn%2C%20exclude_btn%2C%20flag_btn%5D%2C%20gap%3D%221rem%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20mo.accordion(%7B%22Pell%20Status%22%3A%20content%7D)%0A%0A%20%20%20%20%23%204%20return%20the%20getter%20so%20other%20cells%20can%20react%20to%20it%0A%20%20%20%20return%20(get_choice%2C)%0A%0A%0A%40app.cell%0Adef%20pell_feedback(get_choice%2C%20mo)%3A%0A%0A%20%20%20%20%23%201%20read%20the%20current%20flag%0A%20%20%20%20choice%20%3D%20get_choice()%0A%0A%20%20%20%20%23%202%20maps%20for%20emoji%20and%20label%0A%20%20%20%20emoji_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22%F0%9F%9F%A2%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22%F0%9F%94%B4%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22%F0%9F%9F%A1%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22%E2%9A%AA%EF%B8%8F%22%2C%0A%20%20%20%20%7D%0A%20%20%20%20text_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22Include%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22Exclude%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22Flag%20for%20Review%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22no%20selection%22%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20%23%203%20wrap%20in%20mo.md%20so%20this%20cell%20re-runs%20whenever%20choice%20changes%0A%20%20%20%20mo.md(f%22You%20decided%20to%20%7Bemoji_map%5Bchoice%5D%7D%20**%7Btext_map%5Bchoice%5D%7D**%20the%20variable.%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pell_justification(get_choice%2C%20mo)%3A%0A%20%20%20%20%23%201%20read%20current%20Pell%20selection%0A%20%20%20%20pell_text_choice%20%3D%20get_choice()%0A%0A%20%20%20%20%23%202%20state%20holder%20for%20the%20justification%20text%0A%20%20%20%20get_text_just_pell%2C%20set_text_just_pell%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20%23%203%20show%20textarea%20only%20after%20user%20picks%20Include%20%2F%20Exclude%20%2F%20Flag%0A%20%20%20%20content_just_pell%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20briefly%20justify%20your%20reasoning%20for%20your%20Pell%20Status%20choice%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_text_just_pell()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_text_just_pell(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D4%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20pell_text_choice%20is%20not%20None%0A%20%20%20%20%20%20%20%20else%20mo.md(%22%22)%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20)%0A%0A%20%20%20%20content_just_pell%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20efc_status(mo)%3A%0A%0A%20%20%20%20%23%201%20reactive%20state%20for%20this%20variable%0A%20%20%20%20get_efc_choice%2C%20set_efc_choice%20%3D%20mo.state(None)%0A%0A%20%20%20%20%23%202%20flag%20buttons%0A%20%20%20%20efc_include_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Include%22%2C%20kind%3D%22success%22%2C%20on_click%3Dlambda%20_%3A%20set_efc_choice(%22include%22)%0A%20%20%20%20)%0A%20%20%20%20efc_exclude_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Exclude%22%2C%20kind%3D%22danger%22%2C%20%20on_click%3Dlambda%20_%3A%20set_efc_choice(%22exclude%22)%0A%20%20%20%20)%0A%20%20%20%20efc_flag_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Flag%20for%20Review%22%2C%20kind%3D%22warn%22%2C%20on_click%3Dlambda%20_%3A%20set_efc_choice(%22flag%22)%0A%20%20%20%20)%0A%0A%20%20%20%20%23%203%20put%20buttons%20in%20an%20accordion%20(or%20any%20layout%20you%20like)%0A%20%20%20%20efc_content%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Amount%20a%20family%20is%20expected%20to%20contribute%20to%20education%20costs%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22(legacy%20FAFSA%20metric).%20Regulatory%20compliance%20requires%20excluding%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22this%20sensitive%20financial%20information.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.hstack(%5Befc_include_btn%2C%20efc_exclude_btn%2C%20efc_flag_btn%5D%2C%20gap%3D%221rem%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20mo.accordion(%7B%22Expected%20Family%20Contribution%20(EFC)%22%3A%20efc_content%7D)%0A%0A%20%20%20%20%23%204%20return%20the%20getter%20so%20other%20cells%20can%20react%20to%20it%0A%20%20%20%20return%20(get_efc_choice%2C)%0A%0A%0A%40app.cell%0Adef%20efc_feedback(get_efc_choice%2C%20mo)%3A%0A%0A%20%20%20%20%23%201%20read%20the%20current%20flag%0A%20%20%20%20efc_choice%20%3D%20get_efc_choice()%0A%0A%20%20%20%20%23%202%20maps%20for%20emoji%20and%20label%0A%20%20%20%20efc_emoji_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22%F0%9F%9F%A2%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22%F0%9F%94%B4%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22%F0%9F%9F%A1%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22%E2%9A%AA%EF%B8%8F%22%2C%0A%20%20%20%20%7D%0A%20%20%20%20efc_text_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22Include%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22Exclude%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22Flag%20for%20Review%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22no%20selection%22%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20%23%203%20wrap%20in%20mo.md%20so%20this%20cell%20re-runs%20whenever%20choice%20changes%0A%20%20%20%20mo.md(f%22You%20decided%20to%20%7Befc_emoji_map%5Befc_choice%5D%7D%20**%7Befc_text_map%5Befc_choice%5D%7D**%20the%20variable.%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20efc_justification(get_efc_choice%2C%20mo)%3A%0A%20%20%20%20%23%201%20read%20current%20EFC%20selection%0A%20%20%20%20efc_text_choice%20%3D%20get_efc_choice()%0A%0A%20%20%20%20%23%202%20state%20holder%20for%20the%20justification%20text%0A%20%20%20%20get_text_just_efc%2C%20set_text_just_efc%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20%23%203%20show%20textarea%20only%20after%20user%20picks%20Include%20%2F%20Exclude%20%2F%20Flag%0A%20%20%20%20content_just_efc%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20briefly%20justify%20your%20reasoning%20for%20your%20EFC%20choice%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_text_just_efc()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_text_just_efc(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D4%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20efc_text_choice%20is%20not%20None%0A%20%20%20%20%20%20%20%20else%20mo.md(%22%22)%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20)%0A%0A%20%20%20%20content_just_efc%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20sai_status(mo)%3A%0A%20%20%20%20%23%201)%20reactive%20state%20for%20SAI%0A%20%20%20%20get_sai_choice%2C%20set_sai_choice%20%3D%20mo.state(None)%0A%0A%20%20%20%20%23%202)%20flag%20buttons%20(all%20kwargs)%0A%20%20%20%20sai_inc_btn%20%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Include%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22success%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_sai_choice(%22include%22)%2C%0A%20%20%20%20)%0A%20%20%20%20sai_exc_btn%20%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Exclude%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22danger%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_sai_choice(%22exclude%22)%2C%0A%20%20%20%20)%0A%20%20%20%20sai_flag_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Flag%20for%20Review%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22warn%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_sai_choice(%22flag%22)%2C%0A%20%20%20%20)%0A%0A%20%20%20%20%23%203)%20accordion%20content%0A%20%20%20%20sai_content%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22A%20new%20metric%20from%20recent%20FAFSA%20changes%20that%20replaced%20EFC.%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Recent%20implementation%20means%20this%20data%20may%20not%20be%20available%20for%20all%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22students%20in%20your%20historical%20dataset.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.hstack(%5Bsai_inc_btn%2C%20sai_exc_btn%2C%20sai_flag_btn%5D%2C%20gap%3D%221rem%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20mo.accordion(%7B%22Student%20Aid%20Index%20(SAI)%22%3A%20sai_content%7D)%0A%0A%20%20%20%20%23%204)%20expose%20getter%0A%20%20%20%20return%20(get_sai_choice%2C)%0A%0A%0A%40app.cell%0Adef%20sai_feedback(get_sai_choice%2C%20mo)%3A%0A%20%20%20%20%23%20current%20flag%0A%20%20%20%20sai_choice%20%3D%20get_sai_choice()%0A%0A%20%20%20%20%23%20emoji%20%2F%20text%20maps%0A%20%20%20%20sai_emoji_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22%F0%9F%9F%A2%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22%F0%9F%94%B4%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22%F0%9F%9F%A1%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22%E2%9A%AA%EF%B8%8F%22%2C%0A%20%20%20%20%7D%0A%20%20%20%20sai_text_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22Include%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22Exclude%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22Flag%20for%20Review%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22no%20selection%22%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20%23%20show%20live%20feedback%20line%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20f%22You%20decided%20to%20%7Bsai_emoji_map%5Bsai_choice%5D%7D%20%22%0A%20%20%20%20%20%20%20%20f%22**%7Bsai_text_map%5Bsai_choice%5D%7D**%20the%20variable.%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20sai_justification(get_sai_choice%2C%20mo)%3A%0A%20%20%20%20%23%20read%20current%20SAI%20selection%20(unique%20local%20name)%0A%20%20%20%20sai_selected_flag%20%3D%20get_sai_choice()%0A%0A%20%20%20%20%23%20state%20holder%20for%20SAI%20justification%20text%0A%20%20%20%20get_text_just_sai%2C%20set_text_just_sai%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20%23%20show%20textarea%20only%20after%20a%20flag%20is%20chosen%0A%20%20%20%20content_just_sai%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20briefly%20justify%20your%20reasoning%20for%20your%20SAI%20choice%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_text_just_sai()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_text_just_sai(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D4%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20sai_selected_flag%20is%20not%20None%0A%20%20%20%20%20%20%20%20else%20mo.md(%22%22)%20%20%20%20%20%20%20%20%20%20%23%20nothing%20yet%0A%20%20%20%20)%0A%0A%20%20%20%20content_just_sai%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20unmet_status(mo)%3A%0A%20%20%20%20%23%20reactive%20state%20for%20Unmet%20Need%0A%20%20%20%20get_unmet_choice%2C%20set_unmet_choice%20%3D%20mo.state(None)%0A%0A%20%20%20%20%23%20buttons%20(all%20kwargs)%0A%20%20%20%20unmet_inc_btn%20%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Include%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22success%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_unmet_choice(%22include%22)%2C%0A%20%20%20%20)%0A%20%20%20%20unmet_exc_btn%20%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Exclude%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22danger%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_unmet_choice(%22exclude%22)%2C%0A%20%20%20%20)%0A%20%20%20%20unmet_flag_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Flag%20for%20Review%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22warn%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_unmet_choice(%22flag%22)%2C%0A%20%20%20%20)%0A%0A%20%20%20%20%23%20accordion%20content%0A%20%20%20%20unmet_content%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Gap%20between%20the%20cost%20of%20attendance%20and%20the%20student%E2%80%99s%20available%20resources.%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Financial-stress%20indicator%2C%20but%20regulatory%20restrictions%20likely%20prohibit%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22its%20use%20in%20individual-level%20models.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.hstack(%5Bunmet_inc_btn%2C%20unmet_exc_btn%2C%20unmet_flag_btn%5D%2C%20gap%3D%221rem%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20mo.accordion(%7B%22Unmet%20Need%22%3A%20unmet_content%7D)%0A%0A%20%20%20%20%23%20expose%20getter%0A%20%20%20%20return%20(get_unmet_choice%2C)%0A%0A%0A%40app.cell%0Adef%20unmet_feedback(get_unmet_choice%2C%20mo)%3A%0A%20%20%20%20unmet_choice%20%3D%20get_unmet_choice()%0A%0A%20%20%20%20unmet_emoji_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22%F0%9F%9F%A2%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22%F0%9F%94%B4%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22%F0%9F%9F%A1%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22%E2%9A%AA%EF%B8%8F%22%2C%0A%20%20%20%20%7D%0A%20%20%20%20unmet_text_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22Include%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22Exclude%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22Flag%20for%20Review%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22no%20selection%22%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20f%22You%20decided%20to%20%7Bunmet_emoji_map%5Bunmet_choice%5D%7D%20%22%0A%20%20%20%20%20%20%20%20f%22**%7Bunmet_text_map%5Bunmet_choice%5D%7D**%20the%20variable.%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20unmet_justification(get_unmet_choice%2C%20mo)%3A%0A%20%20%20%20unmet_selected_flag%20%3D%20get_unmet_choice()%0A%0A%20%20%20%20%23%20text%20state%0A%20%20%20%20get_text_just_unmet%2C%20set_text_just_unmet%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20content_just_unmet%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20briefly%20justify%20your%20reasoning%20for%20your%20Unmet%20Need%20choice%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_text_just_unmet()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_text_just_unmet(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D4%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20unmet_selected_flag%20is%20not%20None%0A%20%20%20%20%20%20%20%20else%20mo.md(%22%22)%0A%20%20%20%20)%0A%0A%20%20%20%20content_just_unmet%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20merit_status(mo)%3A%0A%20%20%20%20%23%20state%20for%20Merit%20Award%20Amount%0A%20%20%20%20get_merit_choice%2C%20set_merit_choice%20%3D%20mo.state(None)%0A%0A%20%20%20%20%23%20buttons%0A%20%20%20%20merit_inc_btn%20%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Include%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22success%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_merit_choice(%22include%22)%2C%0A%20%20%20%20)%0A%20%20%20%20merit_exc_btn%20%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Exclude%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22danger%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_merit_choice(%22exclude%22)%2C%0A%20%20%20%20)%0A%20%20%20%20merit_flag_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Flag%20for%20Review%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22warn%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_merit_choice(%22flag%22)%2C%0A%20%20%20%20)%0A%0A%20%20%20%20%23%20accordion%20content%0A%20%20%20%20merit_content%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Scholarship%20amounts%20awarded%20based%20on%20academic%20achievement%20rather%20than%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22financial%20need.%20Consider%20whether%20this%20variable%20primarily%20reflects%20prior%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22achievement%20or%20introduces%20socioeconomic%20factors%20into%20your%20model.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.hstack(%5Bmerit_inc_btn%2C%20merit_exc_btn%2C%20merit_flag_btn%5D%2C%20gap%3D%221rem%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20mo.accordion(%7B%22Merit%20Award%20Amount%22%3A%20merit_content%7D)%0A%0A%20%20%20%20return%20(get_merit_choice%2C)%0A%0A%0A%40app.cell%0Adef%20merit_feedback(get_merit_choice%2C%20mo)%3A%0A%20%20%20%20merit_choice%20%3D%20get_merit_choice()%0A%0A%20%20%20%20merit_emoji_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22%F0%9F%9F%A2%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22%F0%9F%94%B4%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22%F0%9F%9F%A1%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22%E2%9A%AA%EF%B8%8F%22%2C%0A%20%20%20%20%7D%0A%20%20%20%20merit_text_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22Include%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22Exclude%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22Flag%20for%20Review%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22no%20selection%22%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20f%22You%20decided%20to%20%7Bmerit_emoji_map%5Bmerit_choice%5D%7D%20%22%0A%20%20%20%20%20%20%20%20f%22**%7Bmerit_text_map%5Bmerit_choice%5D%7D**%20the%20variable.%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20merit_justification(get_merit_choice%2C%20mo)%3A%0A%20%20%20%20merit_selected_flag%20%3D%20get_merit_choice()%0A%0A%20%20%20%20get_text_just_merit%2C%20set_text_just_merit%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20content_just_merit%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20briefly%20justify%20your%20reasoning%20for%20your%20Merit%20Award%20choice%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_text_just_merit()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_text_just_merit(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D4%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20merit_selected_flag%20is%20not%20None%0A%20%20%20%20%20%20%20%20else%20mo.md(%22%22)%0A%20%20%20%20)%0A%0A%20%20%20%20content_just_merit%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pplus_status(mo)%3A%0A%20%20%20%20%23%20state%20for%20Pell%20Plus%0A%20%20%20%20get_pplus_choice%2C%20set_pplus_choice%20%3D%20mo.state(None)%0A%0A%20%20%20%20%23%20buttons%0A%20%20%20%20pplus_inc_btn%20%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Include%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22success%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_pplus_choice(%22include%22)%2C%0A%20%20%20%20)%0A%20%20%20%20pplus_exc_btn%20%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Exclude%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22danger%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_pplus_choice(%22exclude%22)%2C%0A%20%20%20%20)%0A%20%20%20%20pplus_flag_btn%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20label%3D%22Flag%20for%20Review%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22warn%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20_%3A%20set_pplus_choice(%22flag%22)%2C%0A%20%20%20%20)%0A%0A%20%20%20%20%23%20accordion%20content%0A%20%20%20%20pplus_content%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22University%20matching%20funds%20that%20complement%20federal%20Pell%20Grants.%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Financial-aid%20variables%20like%20this%20are%20likely%20subject%20to%20the%20same%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22regulatory%20restrictions%20as%20other%20financial%20data.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.hstack(%5Bpplus_inc_btn%2C%20pplus_exc_btn%2C%20pplus_flag_btn%5D%2C%20gap%3D%221rem%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20mo.accordion(%7B%22Pell%20Plus%22%3A%20pplus_content%7D)%0A%0A%20%20%20%20return%20(get_pplus_choice%2C)%0A%0A%0A%40app.cell%0Adef%20pplus_feedback(get_pplus_choice%2C%20mo)%3A%0A%20%20%20%20pplus_choice%20%3D%20get_pplus_choice()%0A%0A%20%20%20%20pplus_emoji_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22%F0%9F%9F%A2%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22%F0%9F%94%B4%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22%F0%9F%9F%A1%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22%E2%9A%AA%EF%B8%8F%22%2C%0A%20%20%20%20%7D%0A%20%20%20%20pplus_text_map%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22include%22%3A%20%22Include%22%2C%0A%20%20%20%20%20%20%20%20%22exclude%22%3A%20%22Exclude%22%2C%0A%20%20%20%20%20%20%20%20%22flag%22%3A%20%20%20%20%22Flag%20for%20Review%22%2C%0A%20%20%20%20%20%20%20%20None%3A%20%20%20%20%20%20%22no%20selection%22%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20f%22You%20decided%20to%20%7Bpplus_emoji_map%5Bpplus_choice%5D%7D%20%22%0A%20%20%20%20%20%20%20%20f%22**%7Bpplus_text_map%5Bpplus_choice%5D%7D**%20the%20variable.%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pplus_justification(get_pplus_choice%2C%20mo)%3A%0A%20%20%20%20pplus_selected_flag%20%3D%20get_pplus_choice()%0A%0A%20%20%20%20get_text_just_pplus%2C%20set_text_just_pplus%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20content_just_pplus%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20briefly%20justify%20your%20reasoning%20for%20your%20Pell%20Plus%20choice%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_text_just_pplus()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_text_just_pplus(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D4%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20pplus_selected_flag%20is%20not%20None%0A%20%20%20%20%20%20%20%20else%20mo.md(%22%22)%0A%20%20%20%20)%0A%0A%20%20%20%20content_just_pplus%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20detailed_feedback(%0A%20%20%20%20get_choice%2C%0A%20%20%20%20get_efc_choice%2C%0A%20%20%20%20get_merit_choice%2C%0A%20%20%20%20get_pplus_choice%2C%0A%20%20%20%20get_sai_choice%2C%0A%20%20%20%20get_unmet_choice%2C%0A%20%20%20%20mo%2C%0A)%3A%0A%0A%20%20%20%20%23%20read%20each%20variable%E2%80%99s%20choice%0A%20%20%20%20choice_pell%20%20%3D%20get_choice()%0A%20%20%20%20choice_efc%20%20%20%3D%20get_efc_choice()%0A%20%20%20%20choice_sai%20%20%20%3D%20get_sai_choice()%0A%20%20%20%20choice_unmet%20%3D%20get_unmet_choice()%0A%20%20%20%20choice_merit%20%20%3D%20get_merit_choice()%0A%20%20%20%20choice_pplus%20%20%3D%20get_pplus_choice()%0A%0A%20%20%20%20%23%20-----%20Pell%20message%0A%20%20%20%20if%20choice_pell%20%3D%3D%20%22exclude%22%3A%0A%20%20%20%20%20%20%20%20msg_pell%20%3D%20%22Right%20call%22%0A%20%20%20%20elif%20choice_pell%20%3D%3D%20%22flag%22%3A%0A%20%20%20%20%20%20%20%20msg_pell%20%3D%20%22Flagged%22%0A%20%20%20%20elif%20choice_pell%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20msg_pell%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Including%20Pell%20Status%20violates%20current%20federal%20guidance%20and%20may%20expose%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22the%20institution%20to%20penalties.%20Consider%20aggregate%20reporting%20instead%20of%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22individual-level%20use.%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20msg_pell%20%3D%20%22%22%0A%0A%20%20%20%20%23%20-----%20EFC%20message%0A%20%20%20%20if%20choice_efc%20%3D%3D%20%22exclude%22%3A%0A%20%20%20%20%20%20%20%20msg_efc%20%3D%20%22Right%20call%22%0A%20%20%20%20elif%20choice_efc%20%3D%3D%20%22flag%22%3A%0A%20%20%20%20%20%20%20%20msg_efc%20%3D%20%22Flagged%22%0A%20%20%20%20elif%20choice_efc%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20msg_efc%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22EFC%20is%20explicitly%20barred%20under%202024%20Department%20of%20Education%20rules%3B%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22its%20inclusion%20would%20render%20the%20model%20non-compliant.%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20msg_efc%20%3D%20%22%22%0A%0A%20%20%20%20%23%20-----%20SAI%20message%0A%20%20%20%20if%20choice_sai%20%3D%3D%20%22exclude%22%3A%0A%20%20%20%20%20%20%20%20msg_sai%20%3D%20%22Right%20call%22%0A%20%20%20%20elif%20choice_sai%20%3D%3D%20%22flag%22%3A%0A%20%20%20%20%20%20%20%20msg_sai%20%3D%20%22Flagged%22%0A%20%20%20%20elif%20choice_sai%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20msg_sai%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22SAI%20is%20sensitive%20financial-aid%20data%20with%20incomplete%20coverage.%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Using%20it%20risks%20privacy%20violations%20and%20injects%20missing-data%20bias.%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20msg_sai%20%3D%20%22%22%0A%0A%20%20%20%20%23%20---%20Unmet%20Need%20msg%20---%0A%20%20%20%20if%20choice_unmet%20%3D%3D%20%22exclude%22%3A%0A%20%20%20%20%20%20%20%20msg_unmet%20%3D%20%22Right%20call%22%0A%20%20%20%20elif%20choice_unmet%20%3D%3D%20%22flag%22%3A%0A%20%20%20%20%20%20%20%20msg_unmet%20%3D%20%22Flagged%22%0A%20%20%20%20elif%20choice_unmet%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20msg_unmet%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Unmet%20Need%20combines%20multiple%20restricted%20data%20points.%20Including%20it%20would%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22contravene%20policy%20and%20amplify%20socioeconomic%20bias.%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20msg_unmet%20%3D%20%22%22%0A%0A%20%20%20%20%23%20---%20Merit%20Award%20msg%20---%0A%20%20%20%20if%20choice_merit%20%3D%3D%20%22exclude%22%3A%0A%20%20%20%20%20%20%20%20msg_merit%20%3D%20%22Right%20call%22%0A%20%20%20%20elif%20choice_merit%20%3D%3D%20%22flag%22%3A%0A%20%20%20%20%20%20%20%20msg_merit%20%3D%20%22Flagged%22%0A%20%20%20%20elif%20choice_merit%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20msg_merit%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Merit%20awards%20can%20proxy%20socioeconomic%20status%20and%20unintentionally%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22disadvantage%20low-income%20students.%20Use%20only%20with%20a%20strong%20equity%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22justification.%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20msg_merit%20%3D%20%22%22%0A%0A%20%20%20%20%23%20---%20Pell%20Plus%20msg%20---%0A%20%20%20%20if%20choice_pplus%20%3D%3D%20%22exclude%22%3A%0A%20%20%20%20%20%20%20%20msg_pplus%20%3D%20%22Right%20call%22%0A%20%20%20%20elif%20choice_pplus%20%3D%3D%20%22flag%22%3A%0A%20%20%20%20%20%20%20%20msg_pplus%20%3D%20%22Flagged%22%0A%20%20%20%20elif%20choice_pplus%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20msg_pplus%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Pell%20Plus%20directly%20signals%20Pell%20participation%3B%20individual-level%20use%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22is%20restricted.%20Exclude%20or%20seek%20explicit%20legal%20clearance.%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20msg_pplus%20%3D%20%22%22%0A%0A%0A%20%20%20%20%23%20build%20accordion%20content%0A%20%20%20%20content_detail_feedback%20%3D%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(f%22**Pell%20%3A**%20%7Bmsg_pell%7D%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(f%22**EFC%20%20%3A**%20%7Bmsg_efc%7D%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(f%22**SAI%20%20%3A**%20%7Bmsg_sai%7D%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(f%22**Unmet%20%3A**%20%7Bmsg_unmet%7D%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(f%22**Merit%20%20%3A**%20%7Bmsg_merit%7D%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(f%22**Pell%2B%20%20%3A**%20%7Bmsg_pplus%7D%22)%2C%0A%20%20%20%20%5D)%0A%0A%20%20%20%20mo.accordion(%7B%22Detailed%20Feedback%22%3A%20content_detail_feedback%7D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20wrapup_intro(%0A%20%20%20%20get_choice%2C%0A%20%20%20%20get_efc_choice%2C%0A%20%20%20%20get_merit_choice%2C%0A%20%20%20%20get_pplus_choice%2C%0A%20%20%20%20get_sai_choice%2C%0A%20%20%20%20get_unmet_choice%2C%0A%20%20%20%20mo%2C%0A)%3A%0A%20%20%20%20%23%20----%20Global%20submit%20state%20----%0A%20%20%20%20submit_state%2C%20set_submit_state%20%3D%20mo.state(False)%0A%0A%20%20%20%20%23%20----%20Helper%20to%20standardize%20decision%20----%0A%20%20%20%20def%20dec_label(choice)%3A%0A%20%20%20%20%20%20%20%20if%20choice%20in%20%5B%22include%22%2C%20%22include_as_is%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Include%22%0A%20%20%20%20%20%20%20%20elif%20choice%20in%20%5B%22flag%22%2C%20%22flag_improvement%22%2C%20%22audit_only%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Flag%22%0A%20%20%20%20%20%20%20%20elif%20choice%20in%20%5B%22exclude%22%2C%20%22exclude_unreliable%22%2C%20%22exclude_entirely%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Exclude%22%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22No%20Selection%22%0A%0A%20%20%20%20%23%20----%20Collect%20WAVE%201%20choices%20ONLY%20----%0A%20%20%20%20all_choices%20%3D%20%5B%0A%20%20%20%20%20%20%20%20get_choice()%2C%20get_efc_choice()%2C%20get_sai_choice()%2C%20get_unmet_choice()%2C%20get_merit_choice()%2C%20get_pplus_choice()%0A%20%20%20%20%5D%0A%0A%20%20%20%20%23%20----%20Keep%20returning%20states%20for%20later%20use%20----%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20wrapup_summary_table(%0A%20%20%20%20get_choice%2C%0A%20%20%20%20get_efc_choice%2C%0A%20%20%20%20get_merit_choice%2C%0A%20%20%20%20get_pplus_choice%2C%0A%20%20%20%20get_sai_choice%2C%0A%20%20%20%20get_unmet_choice%2C%0A%20%20%20%20mo%2C%0A)%3A%0A%0A%20%20%20%20def%20decision_label(choice)%3A%0A%20%20%20%20%20%20%20%20if%20choice%20in%20%5B%22include%22%2C%20%22include_as_is%22%2C%20%22include_as-is%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Include%22%0A%20%20%20%20%20%20%20%20elif%20choice%20in%20%5B%22flag%22%2C%20%22flag_improvement%22%2C%20%22audit_only%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Flag%22%0A%20%20%20%20%20%20%20%20elif%20choice%20in%20%5B%22exclude%22%2C%20%22exclude_unreliable%22%2C%20%22exclude_entirely%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Exclude%22%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22No%20Selection%22%0A%0A%20%20%20%20%23%20----%20WAVE%201%20ONLY%20grouped%20rows%20----%0A%20%20%20%20grouped_rows%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22Regulatory%20Gate%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20(decision_label(get_choice())%2C%20%22Pell%20Status%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(decision_label(get_efc_choice())%2C%20%22Expected%20Family%20Contribution%20(EFC)%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(decision_label(get_sai_choice())%2C%20%22Student%20Aid%20Index%20(SAI)%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(decision_label(get_unmet_choice())%2C%20%22Unmet%20Need%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(decision_label(get_merit_choice())%2C%20%22Merit%20Award%20Amount%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(decision_label(get_pplus_choice())%2C%20%22Pell%20Plus%22)%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20%23%20Wave-1-only%20count%20with%20a%20unique%20name%20to%20avoid%20collisions%0A%20%20%20%20w1_count%20%3D%20sum(%0A%20%20%20%20%20%20%20%201%20for%20_%2C%20rows%20in%20grouped_rows.items()%0A%20%20%20%20%20%20%20%20for%20(decision%2C%20_)%20in%20rows%0A%20%20%20%20%20%20%20%20if%20decision%20%3D%3D%20%22Include%22%0A%20%20%20%20)%0A%0A%20%20%20%20%23%20build%20table%20HTML%0A%20%20%20%20table_html%20%3D%20%22%3Ctable%20style%3D'border-collapse%3Acollapse%3B%20width%3A100%25%3B%20text-align%3Aleft%3B'%3E%22%0A%20%20%20%20table_html%20%2B%3D%20%22%3Cthead%3E%3Ctr%3E%3Cth%3EGroup%20(Wave)%3C%2Fth%3E%3Cth%3EDecision%3C%2Fth%3E%3Cth%3EVariable%3C%2Fth%3E%3C%2Ftr%3E%3C%2Fthead%3E%3Ctbody%3E%22%0A%0A%20%20%20%20for%20group%2C%20rows%20in%20grouped_rows.items()%3A%0A%20%20%20%20%20%20%20%20%23%20group%20header%20row%0A%20%20%20%20%20%20%20%20table_html%20%2B%3D%20f%22%3Ctr%3E%3Ctd%20colspan%3D'3'%20style%3D'font-weight%3Abold%3B%20padding-top%3A10px%3B'%3E%7Bgroup%7D%3C%2Ftd%3E%3C%2Ftr%3E%22%0A%20%20%20%20%20%20%20%20%23%20variable%20rows%0A%20%20%20%20%20%20%20%20for%20decision%2C%20variable%20in%20rows%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20color%20%3D%20%22%20style%3D'background-color%3A%23e8f5e9%3B'%22%20if%20decision%20%3D%3D%20%22Include%22%20else%20%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20table_html%20%2B%3D%20f%22%3Ctr%7Bcolor%7D%3E%3Ctd%3E%3C%2Ftd%3E%3Ctd%3E%7Bdecision%7D%3C%2Ftd%3E%3Ctd%3E%7Bvariable%7D%3C%2Ftd%3E%3C%2Ftr%3E%22%0A%20%20%20%20%20%20%20%20%23%20blank%20line%20between%20groups%0A%20%20%20%20%20%20%20%20table_html%20%2B%3D%20%22%3Ctr%3E%3Ctd%20colspan%3D'3'%20style%3D'height%3A8px%3B'%3E%3C%2Ftd%3E%3C%2Ftr%3E%22%0A%0A%20%20%20%20table_html%20%2B%3D%20%22%3C%2Ftbody%3E%3C%2Ftable%3E%22%0A%0A%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%20End-of-Scenario%20Wrap-Up%20%E2%80%93%20Variable-Selection%20Brief%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22**_Your%20model%20will%20use%20the%20%7Bw1_count%7D%20variables%20highlighted%20in%20green._**%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Is%20this%20acceptable%2C%20or%20would%20you%20like%20to%20revise%20your%20selections%3F%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.Html(table_html)%0A%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20wrapup_buttons(mo)%3A%0A%20%20%20%20buttons_html%20%3D%20%22%22%22%0A%20%20%20%20%3Cdiv%20style%3D%22display%3Aflex%3B%20justify-content%3Acenter%3B%20gap%3A1rem%3B%20margin-bottom%3A1rem%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Ca%20href%3D%22%23task_1%22%20style%3D%22padding%3A6px%2012px%3B%20background%3A%23eee%3B%20border-radius%3A6px%3B%20text-decoration%3Anone%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Review%20Wave%201%0A%20%20%20%20%20%20%20%20%3C%2Fa%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%22%22%22%0A%0A%20%20%20%20final_feedback_html%20%3D%20%22%22%22%0A%20%20%20%20%3Chr%20style%3D%22border%3A%203px%20solid%20%234CAF50%3B%20margin-top%3A1rem%3B%20margin-bottom%3A1rem%3B%22%3E%0A%20%20%20%20%3Cdiv%20style%3D%22text-align%3Acenter%3B%20color%3A%234CAF50%3B%20font-size%3A1.5rem%3B%20font-weight%3Abold%3B%20margin-bottom%3A1rem%3B%22%3E%0A%20%20%20%20%20%20%20%20Final%20Feedback%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%22%22%22%0A%0A%20%20%20%20mo.vstack(%5Bmo.Html(buttons_html)%2C%20mo.Html(final_feedback_html)%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20wrapup_feedback_regulatory(%0A%20%20%20%20get_choice%2C%0A%20%20%20%20get_efc_choice%2C%0A%20%20%20%20get_merit_choice%2C%0A%20%20%20%20get_pplus_choice%2C%0A%20%20%20%20get_sai_choice%2C%0A%20%20%20%20get_unmet_choice%2C%0A%20%20%20%20mo%2C%0A)%3A%0A%20%20%20%20def%20feedback_text(var%2C%20sel)%3A%0A%20%20%20%20%20%20%20%20if%20var%20%3D%3D%20%22Pell%20Status%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20sel%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Including%20Pell%20Status%20violates%20current%20federal%20guidance%20and%20may%20expose%20the%20institution%20to%20penalties.%20Consider%20aggregate%20reporting%20instead%20of%20individual-level%20use.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20sel%20in%20%5B%22flag%22%2C%20%22exclude%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Right%20call%22%0A%20%20%20%20%20%20%20%20elif%20var%20%3D%3D%20%22Expected%20Family%20Contribution%20(EFC)%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20sel%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22EFC%20is%20explicitly%20barred%20under%202024%20Department%20of%20Education%20rules%3B%20its%20inclusion%20would%20render%20the%20model%20non-compliant.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20sel%20in%20%5B%22flag%22%2C%20%22exclude%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Right%20call%22%0A%20%20%20%20%20%20%20%20elif%20var%20%3D%3D%20%22Student%20Aid%20Index%20(SAI)%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20sel%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22SAI%20is%20sensitive%20financial-aid%20data%20with%20incomplete%20coverage.%20Using%20it%20risks%20privacy%20violations%20and%20injects%20missing-data%20bias.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20sel%20in%20%5B%22flag%22%2C%20%22exclude%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Right%20call%22%0A%20%20%20%20%20%20%20%20elif%20var%20%3D%3D%20%22Unmet%20Need%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20sel%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Unmet%20Need%20combines%20multiple%20restricted%20data%20points.%20Including%20it%20would%20contravene%20policy%20and%20amplify%20socioeconomic%20bias.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20sel%20in%20%5B%22flag%22%2C%20%22exclude%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Right%20call%22%0A%20%20%20%20%20%20%20%20elif%20var%20%3D%3D%20%22Merit%20Award%20Amount%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20sel%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Merit%20awards%20can%20proxy%20socioeconomic%20status%20and%20unintentionally%20disadvantage%20low-income%20students.%20Use%20only%20with%20a%20strong%20equity%20justification.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20sel%20in%20%5B%22flag%22%2C%20%22exclude%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Right%20call%22%0A%20%20%20%20%20%20%20%20elif%20var%20%3D%3D%20%22Pell%20Plus%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20sel%20%3D%3D%20%22include%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Pell%20Plus%20directly%20signals%20Pell%20participation%3B%20individual-level%20use%20is%20restricted.%20Exclude%20or%20seek%20explicit%20legal%20clearance.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20sel%20in%20%5B%22flag%22%2C%20%22exclude%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22Right%20call%22%0A%0A%20%20%20%20vars_choices%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22Pell%20Status%22%3A%20get_choice()%2C%0A%20%20%20%20%20%20%20%20%22Expected%20Family%20Contribution%20(EFC)%22%3A%20get_efc_choice()%2C%0A%20%20%20%20%20%20%20%20%22Student%20Aid%20Index%20(SAI)%22%3A%20get_sai_choice()%2C%0A%20%20%20%20%20%20%20%20%22Unmet%20Need%22%3A%20get_unmet_choice()%2C%0A%20%20%20%20%20%20%20%20%22Merit%20Award%20Amount%22%3A%20get_merit_choice()%2C%0A%20%20%20%20%20%20%20%20%22Pell%20Plus%22%3A%20get_pplus_choice()%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20alert_flag%20%3D%20False%0A%20%20%20%20wrong_lines%20%3D%20%5B%5D%0A%20%20%20%20correct_vars%20%3D%20%5B%5D%0A%0A%20%20%20%20for%20var%2C%20sel%20in%20vars_choices.items()%3A%0A%20%20%20%20%20%20%20%20txt%20%3D%20feedback_text(var%2C%20sel)%0A%20%20%20%20%20%20%20%20if%20txt%20and%20%22Right%20call%22%20not%20in%20txt%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20alert_flag%20%3D%20True%0A%20%20%20%20%20%20%20%20%20%20%20%20wrong_lines.append(mo.md(f%22**%7Bvar%7D%3A**%20%7Btxt%7D%22))%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20correct_vars.append(var)%0A%0A%20%20%20%20%23%20wave-level%20alert%0A%20%20%20%20wave_alert%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.md(%22%E2%9A%A0%EF%B8%8F%20**At%20least%20one%20restricted%20variable%20still%20needs%20your%20attention.**%22)%0A%20%20%20%20%20%20%20%20if%20alert_flag%20else%0A%20%20%20%20%20%20%20%20mo.md(%22%E2%9C%85%20**Everything%20looks%20good%20in%20this%20wave!**%22)%0A%20%20%20%20)%0A%0A%20%20%20%20correct_line%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.md(f%22%E2%9C%85%20**No%20major%20concerns%20for%3A**%20%7B'%2C%20'.join(correct_vars)%7D%22)%0A%20%20%20%20%20%20%20%20if%20correct_vars%20else%20mo.md(%22%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.accordion(%0A%20%20%20%20%20%20%20%20%7B%22Regulatory%20Gate%20Feedback%22%3A%20mo.vstack(%5Bwave_alert%5D%20%2B%20wrong_lines%20%2B%20%5Bcorrect_line%5D)%7D%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20task_f(mo)%3A%0A%20%20%20%20get_prod_text%2C%20set_prod_text%20%3D%20mo.state(%22%22)%0A%20%20%20%20get_refl_text%2C%20set_refl_text%20%3D%20mo.state(%22%22)%0A%0A%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Placeholder%20for%20Product%22)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3Cdiv%20style%3D'width%3A100%25%3B'%3E%22)%2C%20%20%23%20force%20full-width%20container%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Enter%20your%20product%20notes%20here%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_prod_text()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_prod_text(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D8%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3C%2Fdiv%3E%22)%2C%0A%0A%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%20Placeholder%20for%20Learner%20Reflection%22)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3Cdiv%20style%3D'width%3A100%25%3B'%3E%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Please%20write%20your%20reflection%20here%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3Dget_refl_text()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_change%3Dlambda%20v%3A%20set_refl_text(v)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%3D12%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.Html(%22%3C%2Fdiv%3E%22)%2C%0A%0A%20%20%20%20%20%20%20%20mo.md(%22%26nbsp%3B%22)%2C%0A%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">9e39d77e50ed4f9df24e450dadd882433289906998f5a14152505f1976459f68</marimo-code-hash>
</body>
</html>
